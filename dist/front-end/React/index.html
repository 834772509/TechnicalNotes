<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React | 杉-技术笔记</title>
    <meta name="description" content="">
    <link rel="icon" href="/technicalnotes/img/LOGO.ico">
    
    <link rel="preload" href="/technicalnotes/assets/css/0.styles.833b937c.css" as="style"><link rel="preload" href="/technicalnotes/assets/js/app.44ea09cc.js" as="script"><link rel="preload" href="/technicalnotes/assets/js/2.e54bcbad.js" as="script"><link rel="preload" href="/technicalnotes/assets/js/5.0681e717.js" as="script"><link rel="prefetch" href="/technicalnotes/assets/js/10.6f6e4831.js"><link rel="prefetch" href="/technicalnotes/assets/js/11.b3e241bc.js"><link rel="prefetch" href="/technicalnotes/assets/js/12.560bba52.js"><link rel="prefetch" href="/technicalnotes/assets/js/13.96ea83e8.js"><link rel="prefetch" href="/technicalnotes/assets/js/14.cf7fe37c.js"><link rel="prefetch" href="/technicalnotes/assets/js/15.d8d0e96b.js"><link rel="prefetch" href="/technicalnotes/assets/js/16.6944cbd6.js"><link rel="prefetch" href="/technicalnotes/assets/js/17.711cc535.js"><link rel="prefetch" href="/technicalnotes/assets/js/18.37ba446c.js"><link rel="prefetch" href="/technicalnotes/assets/js/19.53a38493.js"><link rel="prefetch" href="/technicalnotes/assets/js/20.eec569c5.js"><link rel="prefetch" href="/technicalnotes/assets/js/21.d9f75392.js"><link rel="prefetch" href="/technicalnotes/assets/js/22.0b84c7dc.js"><link rel="prefetch" href="/technicalnotes/assets/js/23.d2c94475.js"><link rel="prefetch" href="/technicalnotes/assets/js/24.969662a0.js"><link rel="prefetch" href="/technicalnotes/assets/js/25.4ffab78b.js"><link rel="prefetch" href="/technicalnotes/assets/js/26.dac3297d.js"><link rel="prefetch" href="/technicalnotes/assets/js/27.455b7a13.js"><link rel="prefetch" href="/technicalnotes/assets/js/28.bd272592.js"><link rel="prefetch" href="/technicalnotes/assets/js/29.fdc2508f.js"><link rel="prefetch" href="/technicalnotes/assets/js/3.4f4a124a.js"><link rel="prefetch" href="/technicalnotes/assets/js/30.873a350a.js"><link rel="prefetch" href="/technicalnotes/assets/js/31.0de203fc.js"><link rel="prefetch" href="/technicalnotes/assets/js/32.ec116afc.js"><link rel="prefetch" href="/technicalnotes/assets/js/33.a464030e.js"><link rel="prefetch" href="/technicalnotes/assets/js/34.56c1cfb2.js"><link rel="prefetch" href="/technicalnotes/assets/js/35.5833d96d.js"><link rel="prefetch" href="/technicalnotes/assets/js/36.10779e4f.js"><link rel="prefetch" href="/technicalnotes/assets/js/37.d99648c3.js"><link rel="prefetch" href="/technicalnotes/assets/js/38.4eedfef7.js"><link rel="prefetch" href="/technicalnotes/assets/js/39.f8821700.js"><link rel="prefetch" href="/technicalnotes/assets/js/4.bcbdf279.js"><link rel="prefetch" href="/technicalnotes/assets/js/40.db9f2826.js"><link rel="prefetch" href="/technicalnotes/assets/js/41.e159ebff.js"><link rel="prefetch" href="/technicalnotes/assets/js/42.de0c5c8a.js"><link rel="prefetch" href="/technicalnotes/assets/js/43.72ee73e4.js"><link rel="prefetch" href="/technicalnotes/assets/js/44.1ad5f2ad.js"><link rel="prefetch" href="/technicalnotes/assets/js/45.bfa63dbf.js"><link rel="prefetch" href="/technicalnotes/assets/js/46.9e087ffe.js"><link rel="prefetch" href="/technicalnotes/assets/js/47.6206db4d.js"><link rel="prefetch" href="/technicalnotes/assets/js/48.b868c535.js"><link rel="prefetch" href="/technicalnotes/assets/js/49.c9cc5fc2.js"><link rel="prefetch" href="/technicalnotes/assets/js/50.3ac0036e.js"><link rel="prefetch" href="/technicalnotes/assets/js/51.a40b744b.js"><link rel="prefetch" href="/technicalnotes/assets/js/52.50fb8a9c.js"><link rel="prefetch" href="/technicalnotes/assets/js/53.c9ebc3c8.js"><link rel="prefetch" href="/technicalnotes/assets/js/54.a14b0d3e.js"><link rel="prefetch" href="/technicalnotes/assets/js/55.1cfdcf4a.js"><link rel="prefetch" href="/technicalnotes/assets/js/56.a2478ae0.js"><link rel="prefetch" href="/technicalnotes/assets/js/57.0a4ceecb.js"><link rel="prefetch" href="/technicalnotes/assets/js/58.71f15ce3.js"><link rel="prefetch" href="/technicalnotes/assets/js/59.2e61751b.js"><link rel="prefetch" href="/technicalnotes/assets/js/6.2f6197ab.js"><link rel="prefetch" href="/technicalnotes/assets/js/60.b61f3c10.js"><link rel="prefetch" href="/technicalnotes/assets/js/61.4d171b74.js"><link rel="prefetch" href="/technicalnotes/assets/js/62.339fc7f7.js"><link rel="prefetch" href="/technicalnotes/assets/js/63.6d043713.js"><link rel="prefetch" href="/technicalnotes/assets/js/64.ad333b6a.js"><link rel="prefetch" href="/technicalnotes/assets/js/7.df97494e.js"><link rel="prefetch" href="/technicalnotes/assets/js/8.d5ac0d8c.js"><link rel="prefetch" href="/technicalnotes/assets/js/9.ac9dc25f.js">
    <link rel="stylesheet" href="/technicalnotes/assets/css/0.styles.833b937c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><main><main slot="sidebar-top"><!----></main> <div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/technicalnotes/" class="home-link router-link-active"><!----> <span class="site-name">杉-技术笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/technicalnotes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/Andorid/" class="nav-link">
  Andorid
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/Flutter/" class="nav-link">
  Flutter
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/React/" class="nav-link router-link-exact-active router-link-active">
  React
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/Webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/Electron/" class="nav-link">
  Electron
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/Java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/JavaWeb/" class="nav-link">
  JavaWeb
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/SpringBoot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/Python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/SQL/" class="nav-link">
  SQL数据库
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/PHP/" class="nav-link">
  PHP
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/WinPE/" class="nav-link">
  WinPE
</a></li></ul></div></div><div class="nav-item"><a href="https://firpe.cn/about" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://firpe.cn/donate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投食 
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/technicalnotes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/Andorid/" class="nav-link">
  Andorid
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/Flutter/" class="nav-link">
  Flutter
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/React/" class="nav-link router-link-exact-active router-link-active">
  React
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/Webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/front-end/Electron/" class="nav-link">
  Electron
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/Java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/JavaWeb/" class="nav-link">
  JavaWeb
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/SpringBoot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/Python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/SQL/" class="nav-link">
  SQL数据库
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/back-end/PHP/" class="nav-link">
  PHP
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/WinPE/" class="nav-link">
  WinPE
</a></li></ul></div></div><div class="nav-item"><a href="https://firpe.cn/about" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://firpe.cn/donate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投食 
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/technicalnotes/front-end/React/" class="active sidebar-link">React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#visual-studio-code-插件" class="sidebar-link">Visual Studio Code 插件</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#脚手架" class="sidebar-link">脚手架</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#基本概念" class="sidebar-link">基本概念</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#jsx" class="sidebar-link">JSX</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#组件" class="sidebar-link">组件</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#插槽" class="sidebar-link">插槽</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react"><a href="#react" class="header-anchor">#</a> React</h1> <p>React 用于构建用户界面的JavaScript库</p> <h2 id="visual-studio-code-插件"><a href="#visual-studio-code-插件" class="header-anchor">#</a> Visual Studio Code 插件</h2> <ul><li>ES7 React/Redux/GraphQL/React-Native snippets : 快速生成React代码段</li> <li>Reactjs code snippets : 快速生成React代码段</li></ul> <h3 id="浏览器插件"><a href="#浏览器插件" class="header-anchor">#</a> 浏览器插件</h3> <ul><li>react-developer-tools</li></ul> <h2 id="脚手架"><a href="#脚手架" class="header-anchor">#</a> 脚手架</h2> <p><strong>脚手架让项目从搭建到开发,再到部署，整个流程变得快速和便捷</strong></p> <p>编程中提到的脚手架 (Scaffold) , 其实是一种工具，帮我们可以快速生成项目的工程化结构，并且已经将我们所需的工程环境配置好</p> <ul><li>每个项目作出完成的效果不同，但是它们的基本工程化结构是相似的。既然相似，就没有必要每次都从零开始搭建，完全可以使用一些工具，帮助我们生产基本的工程化模板</li> <li>不同的项目，在这个模板的基础之上进行项目开发或者进行一些配置的简单修改即可</li> <li>这样也可以间接保证项目的基本机构一致性，方便后期的维护</li></ul> <h3 id="依赖"><a href="#依赖" class="header-anchor">#</a> 依赖</h3> <ol><li>安装Node.js：<a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener noreferrer">Node.js官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>安装WebPack：<code>npm install webpack -g</code></li></ol> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <p>安装React脚手架：<code>npm install -g create-react-app</code></p> <h3 id="创建项目"><a href="#创建项目" class="header-anchor">#</a> 创建项目</h3> <p>创建项目：<code>create-react-app 项目名称</code></p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>项目名称不能包含大写字母</p></div> <h3 id="启动项目"><a href="#启动项目" class="header-anchor">#</a> 启动项目</h3> <p>启动项目：<code>npm start</code></p> <h3 id="编译项目"><a href="#编译项目" class="header-anchor">#</a> 编译项目</h3> <p>编译项目：<code>npm run build</code></p> <h3 id="目录结构"><a href="#目录结构" class="header-anchor">#</a> 目录结构</h3> <div class="language- extra-class"><pre class="language-text"><code>项目名
├─ README.md // readme说明文档
├─ package.json // 对整个应用程序的描述：包括应用名称、版本号、一些依赖包、以及项目的启动、打包等等（node管理项目必备文件）
├─ public
│    ├─ favicon.ico // 应用程序顶部的icon图标
│    ├─ index.html // 应用的index.html入口文件
│    ├─ logo192.png // 被在manifest.json中使用
│    ├─ logo512.png // 被在manifest.json中使用
│    ├─ manifest.json // 和Web app配置相关
│    └─ robots.txt // 指定搜索引擎可以或者无法爬取哪些文件
├─ src
│    ├─ App.css // App组件相关的样式
│    ├─ App.js // App组件的代码文件
│    ├─ App.test.js // App组件的测试代码文件
│    ├─ index.css // 全局的样式文件
│    ├─ index.js // 整个应用程序的入口文件
│    ├─ logo.svg // 刚才启动项目，所看到的React图标
│    ├─ serviceWorker.js // 默认帮助我们写好的注册PWA相关的代码
│    └─ setupTests.js // 测试初始化文件
├─package-lock.json // 记录本地真实安装版本
└─.gitignore // 记录git版本控制的排除文件
</code></pre></div><h2 id="基本概念"><a href="#基本概念" class="header-anchor">#</a> 基本概念</h2> <h3 id="babel"><a href="#babel" class="header-anchor">#</a> Babel</h3> <p>Babel，又名Babeljs。是目前前端使用非常广泛的编辑器、转移器。比如当下很多浏览器并不支持ES6的语法，但是确实ES6的语法非常的简洁和方便，我们开发时希望使用它。那么编写源码时我们就可以使用ES6来编写，之后通过Babel工具，将ES6转成大多数浏览器都支持的ES5的语法</p> <h3 id="pwa"><a href="#pwa" class="header-anchor">#</a> PWA</h3> <p>PWA 全称 Progressive Web App，即渐进式 WEB 应用。<br>
一个 PWA 应用首先是一个网页, 可以通过 Web 技术编写出一个网页应用. 随后添加上 App Manifest 和 Service Worker 来实现 PWA 的安装和离线等功能； 这种 Web 存在的形式，我们也称之为是 Web App；</p> <p>PWA 解决了哪些问题呢？</p> <ul><li>可以添加至主屏幕，点击主屏幕图标可以实现启动动画以及隐藏地址栏；</li> <li>实现离线缓存功能，即使用户手机没有网络，依然可以使用一些离线功能；</li> <li>实现了消息推送；</li> <li>等等一系列类似于 Native App 相关的功能；</li></ul> <h2 id="jsx"><a href="#jsx" class="header-anchor">#</a> JSX</h2> <p>JSX是一种JavaScript的语法扩 展( eXtension) , 也在很多地方称之为JavaScript XML，因为看起就是一段XML语法。<br>
它用于描述我们的UI界面,并且其完成可以和JavaScript融合在一起使用。<br>
它不同于Vue中的模块语法，你不需要专门学习模块语法中的一些指令（比如v-for、v-if、 v-else、v-bind）</p> <div class="language-JSX extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello World</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="jxs-书写规范"><a href="#jxs-书写规范" class="header-anchor">#</a> JXS 书写规范</h3> <ul><li>JSX的顶层只能有一个根元素，所以我们很多时候会在外层包裹一个div原生（或者使用后面我们学习的Fragment）</li> <li>为了方便阅读,我们通常在jsx的外层包裹一个小括号() ,这样可以方便阅读,并且jsx可以进行换行书写</li> <li>JSX中的标签可以是单标签,也可以是双标签。注意：<strong>如果是单标签，必须以/&gt;结尾</strong></li></ul> <h3 id="语法"><a href="#语法" class="header-anchor">#</a> 语法</h3> <ul><li>注释</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token punctuation">{</span><span class="token comment">/* 注释 */</span><span class="token punctuation">}</span>
</code></pre></div><ul><li>嵌入数据</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>对象不能作为jsx的子类，无法输出Object对象</p></div> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>变量名<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>嵌入表达式</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token punctuation">{</span><span class="token comment">/* 运算符表达式*/</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>变量<span class="token number">1</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> 变量<span class="token number">2</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token number">20</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

<span class="token punctuation">{</span><span class="token comment">/* 函数调用 */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">函数名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>逻辑与算符</li></ul> <p>如果条件成立则渲染某一个组件，否则不显示</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token punctuation">{</span>条件 <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">渲染内容</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span>
</code></pre></div><ul><li>三元表达式</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>变量 <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>绑定属性</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> title<span class="token punctuation">,</span> imgUrl<span class="token punctuation">,</span> link <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">title</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">我是标题</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>imgUrl<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>link<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">百度一下</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>绑定class</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>jsx中<code>class</code>为关键字，不能直接使用，需要使用<code>className</code></p></div> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">div元素</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&quot;box title &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>active <span class="token operator">?</span> <span class="token string">&quot;active&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">div元素</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>绑定Style</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token punctuation">:</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token string">&quot;50px&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">绑定Style属性</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> display<span class="token punctuation">:</span> isLogin <span class="token operator">?</span> <span class="token string">'block'</span> <span class="token punctuation">:</span> <span class="token string">&quot;none&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">绑定Style属性</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>绑定事件</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>函数名<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token punctuation">{</span><span class="token comment">/* 函数内访问this对象 */</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment">/*（推荐） 直接传入一个箭头函数，在箭头函数中调用需要执行的函数 */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">函数名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token punctuation">{</span><span class="token comment">/* 使用bind绑定this对象 */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">函数名</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>函数内访问this对象默认为undefine，因为按钮的事件函数并不是我们主动调用，而是当button发生改变时，React内部调用，当它内部调用时，并不知道要如何绑定正确的this</p> <p>解决方法：</p> <ul><li>（推荐）在jsx中直接传入一个箭头函数，在箭头函数中调用需要执行的函数</li> <li>定义函数时，使用箭头函数</li> <li>在构造方法中，<code>this.函数名 = this.函数名.bind(this)</code> 绑定this对象</li> <li>绑定函数时增加<code>.bind(this)</code>绑定this对象</li></ul></div> <ul><li>事件对象</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token function">函数名</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="jsx的本质"><a href="#jsx的本质" class="header-anchor">#</a> JSX的本质</h3> <p>jsx仅仅只是React.createElement(component, props, ..children)函数的语法糖。所有的jsx最终都会被转换成 React.createElement 函数调用</p> <p>jsx -&gt;createElement函数 -&gt; ReactElement（对象树）-&gt;ReactDom.render</p> <h3 id="为什么要用虚拟dom"><a href="#为什么要用虚拟dom" class="header-anchor">#</a> 为什么要用虚拟DOM</h3> <ul><li>很难跟踪状态发生的改变：原有的开发模式，我们很难跟踪到状态发生的改变，不方便针对我们应用程序进行调试</li> <li>操作真实DOM性能较低：传统的开发模式会进行频繁的DOM操作，而这一的做法性能非常的低</li></ul> <h2 id="组件"><a href="#组件" class="header-anchor">#</a> 组件</h2> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>不能直接使用<code>this.state.变量名</code>操作变量，界面不会发生任何变化。需要使用<code>this.setState({变量名: 值})</code>方法来操作变量</p></div> <h3 id="类组件"><a href="#类组件" class="header-anchor">#</a> 类组件</h3> <p>Visual Studio Code 快速创建类组件：<code>rcc</code>-&gt;回车</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span> 
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//数据对象</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span> 
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行 请求网络、DOM操作、订阅 等操作</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <ul><li>组件的名称<strong>必须是大写字符开头</strong></li> <li>类组件需要继承自React.Component</li> <li>类组件必须实现render函数</li></ul></div> <h3 id="函数式组件"><a href="#函数式组件" class="header-anchor">#</a> 函数式组件</h3> <p>Visual Studio Code 快速创建类组件：<code>rfc</code>-&gt;回车</p> <p>函数式组件特点：</p> <ol><li>没有this对象</li> <li>没有内部的状态（state），不能定义变量</li> <li>没有生命周期。也会被更新并挂载，但是没有生命周期函数</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">函数式组件名</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>组件的名称<strong>必须是大写字符开头</strong></p></div> <h3 id="render-函数返回值"><a href="#render-函数返回值" class="header-anchor">#</a> render 函数返回值</h3> <p>render 函数可以返回：</p> <ul><li>jsx : 渲染为DOM节点</li> <li>数组、fragments : 使得render方法可以返回多个元素</li> <li>Portals : 可以渲染子节，点到不同的DOM子树中</li> <li>字符串、数值 : 在DOM中会被渲染为文本节点</li> <li>布尔类型、null : 什么都不渲染</li></ul> <h3 id="父传子"><a href="#父传子" class="header-anchor">#</a> 父传子</h3> <ul><li>类组件</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>如不需要数据对象可以省略<code>constructor()</code>构造方法</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> 参数<span class="token number">1</span><span class="token punctuation">,</span> 参数<span class="token number">2</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span>参数<span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span>参数<span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>组件名 参数<span class="token number">1</span><span class="token operator">=</span><span class="token string">&quot;值&quot;</span> 参数<span class="token number">2</span><span class="token operator">=</span><span class="token punctuation">{</span>值<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span>
</code></pre></div><ul><li>函数组件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">组件名</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> 参数<span class="token number">1</span><span class="token punctuation">,</span> 参数<span class="token number">2</span> <span class="token punctuation">}</span> <span class="token operator">=</span> props

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> 
      <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span>参数<span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span> 
      <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span>参数<span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>组件名 参数<span class="token number">1</span><span class="token operator">=</span><span class="token string">&quot;值&quot;</span> 参数<span class="token number">2</span><span class="token operator">=</span><span class="token punctuation">{</span>值<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span>
</code></pre></div><h3 id="子传父"><a href="#子传父" class="header-anchor">#</a> 子传父</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> 父组件名 <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>组件名 事件名<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">方法名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">方法名</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> 子组件名 <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> 事件名 <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token function">事件名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="跨组件传参"><a href="#跨组件传参" class="header-anchor">#</a> 跨组件传参</h3> <ul><li>类组件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Context名 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//设置默认值</span>
  变量<span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  变量<span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      变量名<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Context名<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>传参组件名<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>传参组件名<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Context名<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">class</span> 传参组件名 <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>变量名<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

传参组件名<span class="token punctuation">.</span>contextType <span class="token operator">=</span> Context名
</code></pre></div><ul><li>函数组件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Context名 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//设置默认值</span>
    变量名<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> 
      变量名<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Context名<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>传参组件名<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>传参组件名<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Context名<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">function</span> <span class="token function">传参组件名</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Context名<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>
        <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span>value<span class="token punctuation">.</span>变量名<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Context名<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="属性验证"><a href="#属性验证" class="header-anchor">#</a> 属性验证</h3> <p>限制传参的数据类型</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>属性验证库被移至<code>prop-types</code>，使用前需要导入此库</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span>

<span class="token keyword">function</span> <span class="token function">组件名</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> 参数<span class="token number">1</span><span class="token punctuation">,</span> 参数<span class="token number">2</span> <span class="token punctuation">}</span> <span class="token operator">=</span> props

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

组件名<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//（默认）可选参数</span>
  参数<span class="token number">1</span><span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>数据类型<span class="token punctuation">,</span>
  <span class="token comment">// 必传参数</span>
  参数<span class="token number">2</span><span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>数据类型<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="默认值"><a href="#默认值" class="header-anchor">#</a> 默认值</h3> <div class="language-js extra-class"><pre class="language-js"><code>组件名<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  参数<span class="token number">1</span><span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
  参数<span class="token number">2</span><span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="class-fields-写法"><a href="#class-fields-写法" class="header-anchor">#</a> Class fields 写法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">ChildCpn2</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// 属性验证</span>
  <span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
  
  <span class="token comment">// 默认值</span>
  <span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <p>很多的事物都有从创建到销毁的整个过程，这个过程称之为是<strong>生命周期</strong></p> <p><a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/" target="_blank" rel="noopener noreferrer"><img src="/technicalnotes/assets/img/React生命周期.0d86e5ed.jpg" alt="React常用生命周期"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="生命周期函数"><a href="#生命周期函数" class="header-anchor">#</a> 生命周期函数</h3> <ul><li><p>constructor</p> <p><code>constructor(props)</code></p> <p>如果不初始化 state 或不进行方法绑定，则不需要为 React 组件实现构造函数。</p> <p>constructor 中通常只做两件事情：</p> <ol><li>通过给 this.state 赋值对象来初始化内部的 state</li> <li>为事件绑定实例（this）</li></ol></li> <li><p>componentDidMount</p> <p><code>componentDidMount()</code></p> <p>componentDidMount() 会在组件挂载后（插入 DOM 树中）立即调用</p> <p>依赖于 DOM 的操作可以在这里进行，在此处发送网络请求就最好的地方（官方建议）
可以在此处添加一些订阅（会在 componentWillUnmount 取消订阅）</p></li> <li><p>componentDidUpdate</p> <p><code>componentDidUpdate(prevProps, prevState, snapshot)</code></p> <p>componentDidUpdate() 会在更新后会被立即调用，首次渲染不会执行此方法。</p> <p>当组件更新后，可以在此处对 DOM 进行操作；
如果对更新前后的 props 进行了比较，也可以选择在此处进行网络请求（例如：当 props 未发生变化时，则不会执行网络请求）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 典型用法（不要忘记比较 props）：</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>userID <span class="token operator">!==</span> prevProps<span class="token punctuation">.</span>userID<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>userID<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>componentWillUnmount</p> <p>componentWillUnmount() 会在组件卸载及销毁之前直接调用。
在此方法中执行必要的清理操作（例如：清除 timer，取消网络请求或清除在 componentDidMount() 中创建的订阅等）</p></li></ul> <h3 id="不常用生命周期"><a href="#不常用生命周期" class="header-anchor">#</a> 不常用生命周期</h3> <ul><li>getDerivedStateFromProps：state 的值在任何时候都依赖于 props 时使用；该方法返回一个对象来更新 state</li> <li>getSnapshotBeforeUpdate：在 React 更新 DOM 之前回调的一个函数，可以获取 DOM 更新前的一些信息（比如说滚动位置）</li> <li>shouldComponentUpdate：该生命周期函数很常用，但是我们等待讲性能优化时再来详细讲解</li></ul> <h2 id="插槽"><a href="#插槽" class="header-anchor">#</a> 插槽</h2> <p>在开发中，我们抽取了一个组件，但是为了让这个组件具备更强的通用性，我们不能将组件中的内容限制为固定的 div、span 等等这些元素，我们应该让使用者可以决定某一块区域到底存放什么内容。</p> <p>举栗：假如我们定制一个通用的导航组件 - NavBar</p> <ul><li>这个组件分成三块区域：左边 - 中间 - 右边，每块区域的内容是不固定</li> <li>左边区域可能显示一个菜单图标，也可能显示一个返回按钮，可能什么都不显示</li> <li>中间区域可能显示一个搜索框，也可能是一个列表，也可能是一个标题，等等</li> <li>右边可能是一个文字，也可能是一个图标，也可能什么都不显示</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>React 中，没有插槽的概念，需要由我们自己去实现</p></div> <h3 id="匿名插槽"><a href="#匿名插槽" class="header-anchor">#</a> 匿名插槽</h3> <p>匿名插槽是根据下标来显示插槽内容</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>组件名<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>插槽<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>插槽<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span>
</code></pre></div><h3 id="具名插槽"><a href="#具名插槽" class="header-anchor">#</a> 具名插槽</h3> <p>具名插槽需要指定插槽名</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> 插槽<span class="token number">1</span><span class="token punctuation">,</span> 插槽<span class="token number">2</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>插槽<span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>插槽<span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>组件名
  插槽<span class="token number">1</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>插槽<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span><span class="token punctuation">}</span>
  插槽<span class="token number">2</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>插槽<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span> 
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div> <div class="footer" data-v-c54358c4><div id="footer-info" data-v-c54358c4><div class="footer-left" data-v-c54358c4>
      © 2020
      <!----></div> <div class="footer-right" data-v-c54358c4>Theme:<a href="https://github.com/JoeyBling/vuepress-theme-yilia-plus" target="_blank">vuepress-theme-yilia-plus</a> by Litten</div></div> <!----></div></main><div class="global-ui"><!----></div></div>
    <script src="/technicalnotes/assets/js/app.44ea09cc.js" defer></script><script src="/technicalnotes/assets/js/2.e54bcbad.js" defer></script><script src="/technicalnotes/assets/js/5.0681e717.js" defer></script>
  </body>
</html>
