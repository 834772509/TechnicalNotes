<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SpringBoot 笔记 | 杉-技术笔记</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/technicalnotes/img/LOGO.ico">
    <meta name="description" content="记录工作和学习过程中的笔记">
    
    <link rel="preload" href="/technicalnotes/assets/css/0.styles.321d4b52.css" as="style"><link rel="preload" href="/technicalnotes/assets/js/app.0feb97d4.js" as="script"><link rel="preload" href="/technicalnotes/assets/js/2.ff058272.js" as="script"><link rel="preload" href="/technicalnotes/assets/js/47.41e039a0.js" as="script"><link rel="preload" href="/technicalnotes/assets/js/12.4f94ad0c.js" as="script"><link rel="prefetch" href="/technicalnotes/assets/js/10.241d25d9.js"><link rel="prefetch" href="/technicalnotes/assets/js/100.d434ebea.js"><link rel="prefetch" href="/technicalnotes/assets/js/101.07be735b.js"><link rel="prefetch" href="/technicalnotes/assets/js/102.c4e4d09e.js"><link rel="prefetch" href="/technicalnotes/assets/js/103.24acc624.js"><link rel="prefetch" href="/technicalnotes/assets/js/104.0af44327.js"><link rel="prefetch" href="/technicalnotes/assets/js/105.73a11826.js"><link rel="prefetch" href="/technicalnotes/assets/js/106.fdb6bedc.js"><link rel="prefetch" href="/technicalnotes/assets/js/107.5d1e3a02.js"><link rel="prefetch" href="/technicalnotes/assets/js/108.a9173de8.js"><link rel="prefetch" href="/technicalnotes/assets/js/109.458970ee.js"><link rel="prefetch" href="/technicalnotes/assets/js/11.c2e80121.js"><link rel="prefetch" href="/technicalnotes/assets/js/110.0d718339.js"><link rel="prefetch" href="/technicalnotes/assets/js/111.ec09181e.js"><link rel="prefetch" href="/technicalnotes/assets/js/112.3eda2d2b.js"><link rel="prefetch" href="/technicalnotes/assets/js/113.837af345.js"><link rel="prefetch" href="/technicalnotes/assets/js/114.1e0c2dd3.js"><link rel="prefetch" href="/technicalnotes/assets/js/115.c664b49a.js"><link rel="prefetch" href="/technicalnotes/assets/js/116.c3dfef1a.js"><link rel="prefetch" href="/technicalnotes/assets/js/117.19f7452f.js"><link rel="prefetch" href="/technicalnotes/assets/js/118.532916e6.js"><link rel="prefetch" href="/technicalnotes/assets/js/119.b2d5d321.js"><link rel="prefetch" href="/technicalnotes/assets/js/120.71d968c3.js"><link rel="prefetch" href="/technicalnotes/assets/js/121.efd187b2.js"><link rel="prefetch" href="/technicalnotes/assets/js/122.a23f4f28.js"><link rel="prefetch" href="/technicalnotes/assets/js/123.4c9603d7.js"><link rel="prefetch" href="/technicalnotes/assets/js/124.746e6d7e.js"><link rel="prefetch" href="/technicalnotes/assets/js/125.9d529f8c.js"><link rel="prefetch" href="/technicalnotes/assets/js/126.da8ba466.js"><link rel="prefetch" href="/technicalnotes/assets/js/127.f3a54745.js"><link rel="prefetch" href="/technicalnotes/assets/js/128.032da251.js"><link rel="prefetch" href="/technicalnotes/assets/js/129.01e73d4e.js"><link rel="prefetch" href="/technicalnotes/assets/js/13.4f234c5d.js"><link rel="prefetch" href="/technicalnotes/assets/js/130.ba096035.js"><link rel="prefetch" href="/technicalnotes/assets/js/131.735934df.js"><link rel="prefetch" href="/technicalnotes/assets/js/132.4d319730.js"><link rel="prefetch" href="/technicalnotes/assets/js/133.2ddd891e.js"><link rel="prefetch" href="/technicalnotes/assets/js/134.a57b0a39.js"><link rel="prefetch" href="/technicalnotes/assets/js/135.795de39c.js"><link rel="prefetch" href="/technicalnotes/assets/js/14.d8af9f31.js"><link rel="prefetch" href="/technicalnotes/assets/js/15.bc2fc693.js"><link rel="prefetch" href="/technicalnotes/assets/js/16.c2315edf.js"><link rel="prefetch" href="/technicalnotes/assets/js/17.3cbf649f.js"><link rel="prefetch" href="/technicalnotes/assets/js/18.07f01023.js"><link rel="prefetch" href="/technicalnotes/assets/js/19.f51f7456.js"><link rel="prefetch" href="/technicalnotes/assets/js/20.95061388.js"><link rel="prefetch" href="/technicalnotes/assets/js/21.13c27b33.js"><link rel="prefetch" href="/technicalnotes/assets/js/22.cbaf2c69.js"><link rel="prefetch" href="/technicalnotes/assets/js/23.69211faa.js"><link rel="prefetch" href="/technicalnotes/assets/js/24.6b8b462a.js"><link rel="prefetch" href="/technicalnotes/assets/js/25.3a3c077a.js"><link rel="prefetch" href="/technicalnotes/assets/js/26.c51231da.js"><link rel="prefetch" href="/technicalnotes/assets/js/27.0f7b3cdf.js"><link rel="prefetch" href="/technicalnotes/assets/js/28.9c97ac2c.js"><link rel="prefetch" href="/technicalnotes/assets/js/29.df6af6e3.js"><link rel="prefetch" href="/technicalnotes/assets/js/3.3ea688ac.js"><link rel="prefetch" href="/technicalnotes/assets/js/30.9de4c44f.js"><link rel="prefetch" href="/technicalnotes/assets/js/31.4042cbca.js"><link rel="prefetch" href="/technicalnotes/assets/js/32.7b3c7373.js"><link rel="prefetch" href="/technicalnotes/assets/js/33.d1f1b6fe.js"><link rel="prefetch" href="/technicalnotes/assets/js/34.d28426bd.js"><link rel="prefetch" href="/technicalnotes/assets/js/35.c121b715.js"><link rel="prefetch" href="/technicalnotes/assets/js/36.66f726e0.js"><link rel="prefetch" href="/technicalnotes/assets/js/37.293d418e.js"><link rel="prefetch" href="/technicalnotes/assets/js/38.13e122eb.js"><link rel="prefetch" href="/technicalnotes/assets/js/39.a548603b.js"><link rel="prefetch" href="/technicalnotes/assets/js/4.1df20ab0.js"><link rel="prefetch" href="/technicalnotes/assets/js/40.d6d76d99.js"><link rel="prefetch" href="/technicalnotes/assets/js/41.d8f40081.js"><link rel="prefetch" href="/technicalnotes/assets/js/42.55acc700.js"><link rel="prefetch" href="/technicalnotes/assets/js/43.707dc75d.js"><link rel="prefetch" href="/technicalnotes/assets/js/44.00858abd.js"><link rel="prefetch" href="/technicalnotes/assets/js/45.c4e11a4f.js"><link rel="prefetch" href="/technicalnotes/assets/js/46.4780da45.js"><link rel="prefetch" href="/technicalnotes/assets/js/48.ac3b6a52.js"><link rel="prefetch" href="/technicalnotes/assets/js/49.257c02be.js"><link rel="prefetch" href="/technicalnotes/assets/js/5.5b331ed0.js"><link rel="prefetch" href="/technicalnotes/assets/js/50.7b3a2351.js"><link rel="prefetch" href="/technicalnotes/assets/js/51.06cecc43.js"><link rel="prefetch" href="/technicalnotes/assets/js/52.db3d8e25.js"><link rel="prefetch" href="/technicalnotes/assets/js/53.77ce5187.js"><link rel="prefetch" href="/technicalnotes/assets/js/54.f0f920c9.js"><link rel="prefetch" href="/technicalnotes/assets/js/55.4cf4bc29.js"><link rel="prefetch" href="/technicalnotes/assets/js/56.76471903.js"><link rel="prefetch" href="/technicalnotes/assets/js/57.ea7b4f61.js"><link rel="prefetch" href="/technicalnotes/assets/js/58.c4e9607c.js"><link rel="prefetch" href="/technicalnotes/assets/js/59.dfbe3f81.js"><link rel="prefetch" href="/technicalnotes/assets/js/6.0c6c104f.js"><link rel="prefetch" href="/technicalnotes/assets/js/60.451b0d85.js"><link rel="prefetch" href="/technicalnotes/assets/js/61.4883d022.js"><link rel="prefetch" href="/technicalnotes/assets/js/62.aab5ef23.js"><link rel="prefetch" href="/technicalnotes/assets/js/63.2587c4b6.js"><link rel="prefetch" href="/technicalnotes/assets/js/64.31bd6ce7.js"><link rel="prefetch" href="/technicalnotes/assets/js/65.4c547c9b.js"><link rel="prefetch" href="/technicalnotes/assets/js/66.8d33269c.js"><link rel="prefetch" href="/technicalnotes/assets/js/67.0e23fc47.js"><link rel="prefetch" href="/technicalnotes/assets/js/68.dd2c299f.js"><link rel="prefetch" href="/technicalnotes/assets/js/69.63e186a1.js"><link rel="prefetch" href="/technicalnotes/assets/js/7.1648cf9f.js"><link rel="prefetch" href="/technicalnotes/assets/js/70.722e7559.js"><link rel="prefetch" href="/technicalnotes/assets/js/71.ce021638.js"><link rel="prefetch" href="/technicalnotes/assets/js/72.fcbc274c.js"><link rel="prefetch" href="/technicalnotes/assets/js/73.b87126b3.js"><link rel="prefetch" href="/technicalnotes/assets/js/74.8e2f2031.js"><link rel="prefetch" href="/technicalnotes/assets/js/75.4f36a1e2.js"><link rel="prefetch" href="/technicalnotes/assets/js/76.2d4b15a5.js"><link rel="prefetch" href="/technicalnotes/assets/js/77.bb1ccfc7.js"><link rel="prefetch" href="/technicalnotes/assets/js/78.dcfd1719.js"><link rel="prefetch" href="/technicalnotes/assets/js/79.91b81a4a.js"><link rel="prefetch" href="/technicalnotes/assets/js/8.3fe39dbd.js"><link rel="prefetch" href="/technicalnotes/assets/js/80.2bea48aa.js"><link rel="prefetch" href="/technicalnotes/assets/js/81.391f22fa.js"><link rel="prefetch" href="/technicalnotes/assets/js/82.78614762.js"><link rel="prefetch" href="/technicalnotes/assets/js/83.df59a490.js"><link rel="prefetch" href="/technicalnotes/assets/js/84.048eb7e2.js"><link rel="prefetch" href="/technicalnotes/assets/js/85.e02a1217.js"><link rel="prefetch" href="/technicalnotes/assets/js/86.c5f6896e.js"><link rel="prefetch" href="/technicalnotes/assets/js/87.8f09d276.js"><link rel="prefetch" href="/technicalnotes/assets/js/88.e605d1ce.js"><link rel="prefetch" href="/technicalnotes/assets/js/89.94e76a01.js"><link rel="prefetch" href="/technicalnotes/assets/js/9.b523ba8a.js"><link rel="prefetch" href="/technicalnotes/assets/js/90.c784b4dd.js"><link rel="prefetch" href="/technicalnotes/assets/js/91.f08e89f1.js"><link rel="prefetch" href="/technicalnotes/assets/js/92.1f9ac0f0.js"><link rel="prefetch" href="/technicalnotes/assets/js/93.a4b4eb77.js"><link rel="prefetch" href="/technicalnotes/assets/js/94.4c3f6604.js"><link rel="prefetch" href="/technicalnotes/assets/js/95.fb0eeb30.js"><link rel="prefetch" href="/technicalnotes/assets/js/96.c4bc8233.js"><link rel="prefetch" href="/technicalnotes/assets/js/97.408ffd01.js"><link rel="prefetch" href="/technicalnotes/assets/js/98.f6f7e364.js"><link rel="prefetch" href="/technicalnotes/assets/js/99.2b8a0efb.js">
    <link rel="stylesheet" href="/technicalnotes/assets/css/0.styles.321d4b52.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><main><main slot="sidebar-top"><!----></main> <div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/technicalnotes/" class="home-link router-link-active"><!----> <span class="site-name">杉-技术笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/technicalnotes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Web 开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/CSS3/" class="nav-link">
  CSS3
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/TypeScript/" class="nav-link">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          前端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Vue2/" class="nav-link">
  Vue2
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/React/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Electron/" class="nav-link">
  Electron
</a></li></ul></li><li class="dropdown-item"><h4>
          移动端开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Andorid/" class="nav-link">
  Andorid
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Flutter/" class="nav-link">
  Flutter
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/WechatApplet/" class="nav-link">
  微信小程序
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/" class="nav-link router-link-active">
  Java 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JavaWeb/" class="nav-link">
  JavaWeb
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringMVC/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringBoot/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JVM/" class="nav-link">
  JVM
</a></li></ul></li><li class="dropdown-item"><h4>
          Rust
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Rust/" class="nav-link">
  Rust
</a></li></ul></li><li class="dropdown-item"><h4>
          Node.js
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Node.js/" class="nav-link">
  Node.js
</a></li></ul></li><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/" class="nav-link">
  Python 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/Flask/" class="nav-link">
  Flask
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/MySQL/" class="nav-link">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/Redis/" class="nav-link">
  Redis
</a></li></ul></li><li class="dropdown-item"><h4>
          PHP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/" class="nav-link">
  PHP 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/ThinkPHP/" class="nav-link">
  ThinkPHP
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Photoshop/" class="nav-link">
  Photoshop
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/WinPE/" class="nav-link">
  WinPE
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Minecraft/" class="nav-link">
  Minecraft
</a></li></ul></div></div><div class="nav-item"><a href="https://firpe.cn/about" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://firpe.cn/donate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投食 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/technicalnotes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Web 开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/CSS3/" class="nav-link">
  CSS3
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/TypeScript/" class="nav-link">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          前端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Vue2/" class="nav-link">
  Vue2
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/React/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Electron/" class="nav-link">
  Electron
</a></li></ul></li><li class="dropdown-item"><h4>
          移动端开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Andorid/" class="nav-link">
  Andorid
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Flutter/" class="nav-link">
  Flutter
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/WechatApplet/" class="nav-link">
  微信小程序
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/" class="nav-link router-link-active">
  Java 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JavaWeb/" class="nav-link">
  JavaWeb
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringMVC/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringBoot/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JVM/" class="nav-link">
  JVM
</a></li></ul></li><li class="dropdown-item"><h4>
          Rust
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Rust/" class="nav-link">
  Rust
</a></li></ul></li><li class="dropdown-item"><h4>
          Node.js
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Node.js/" class="nav-link">
  Node.js
</a></li></ul></li><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/" class="nav-link">
  Python 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/Flask/" class="nav-link">
  Flask
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/MySQL/" class="nav-link">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/Redis/" class="nav-link">
  Redis
</a></li></ul></li><li class="dropdown-item"><h4>
          PHP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/" class="nav-link">
  PHP 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/ThinkPHP/" class="nav-link">
  ThinkPHP
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Photoshop/" class="nav-link">
  Photoshop
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/WinPE/" class="nav-link">
  WinPE
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Minecraft/" class="nav-link">
  Minecraft
</a></li></ul></div></div><div class="nav-item"><a href="https://firpe.cn/about" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://firpe.cn/donate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投食 
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>SpringBoot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/technicalnotes/back-end/Java/SpringBoot/DRUID.html" class="sidebar-link">整合 DRUID</a></li><li><a href="/technicalnotes/back-end/Java/SpringBoot/Dubbo.html" class="sidebar-link">整合 Dubbo</a></li><li><a href="/technicalnotes/back-end/Java/SpringBoot/JDBC.html" class="sidebar-link">整合 JDBC</a></li><li><a href="/technicalnotes/back-end/Java/SpringBoot/MyBatis.html" class="sidebar-link">整合 MyBatis</a></li><li><a href="/technicalnotes/back-end/Java/SpringBoot/" aria-current="page" class="active sidebar-link">SpringBoot 笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#创建项目" class="sidebar-link">创建项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#创建" class="sidebar-link">创建</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#配置" class="sidebar-link">配置</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#配置文件" class="sidebar-link">配置文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#配置文件优先级" class="sidebar-link">配置文件优先级</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#多环境配置文件" class="sidebar-link">多环境配置文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#yaml" class="sidebar-link">YAML</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#键值对" class="sidebar-link">键值对</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#对象" class="sidebar-link">对象</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#数组" class="sidebar-link">数组</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#注入配置文件" class="sidebar-link">注入配置文件</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#jsr303-数据校验" class="sidebar-link">JSR303 数据校验</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#自定义配置" class="sidebar-link">自定义配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#创建-2" class="sidebar-link">创建</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#控制器" class="sidebar-link">控制器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#创建-3" class="sidebar-link">创建</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#传参" class="sidebar-link">传参</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#注解" class="sidebar-link">注解</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#静态资源" class="sidebar-link">静态资源</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#优先级" class="sidebar-link">优先级</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#首页" class="sidebar-link">首页</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#thymeleaf-模版引擎" class="sidebar-link">thymeleaf 模版引擎</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#导入" class="sidebar-link">导入</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#关闭模板引擎缓存" class="sidebar-link">关闭模板引擎缓存</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#使用" class="sidebar-link">使用</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#遍历数据" class="sidebar-link">遍历数据</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#三元运算符" class="sidebar-link">三元运算符</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#格式化时间" class="sidebar-link">格式化时间</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#自定义错误" class="sidebar-link">自定义错误</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#拦截器" class="sidebar-link">拦截器</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#错误页面配置" class="sidebar-link">错误页面配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#自定义json异常" class="sidebar-link">自定义Json异常</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#servlet" class="sidebar-link">Servlet</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#创建-4" class="sidebar-link">创建</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#注册" class="sidebar-link">注册</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#异步任务" class="sidebar-link">异步任务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#开启异步注解" class="sidebar-link">开启异步注解</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#使用-2" class="sidebar-link">使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#邮件发送任务" class="sidebar-link">邮件发送任务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#依赖" class="sidebar-link">依赖</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#配置-2" class="sidebar-link">配置</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#简单使用" class="sidebar-link">简单使用</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#复杂使用" class="sidebar-link">复杂使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#定时任务" class="sidebar-link">定时任务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#开启定时任务注解" class="sidebar-link">开启定时任务注解</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Java/SpringBoot/#使用-3" class="sidebar-link">使用</a></li></ul></li></ul></li><li><a href="/technicalnotes/back-end/Java/SpringBoot/Shiro.html" class="sidebar-link">整合 Shiro</a></li><li><a href="/technicalnotes/back-end/Java/SpringBoot/SpringSecurity.html" class="sidebar-link">整合 Spring Security</a></li><li><a href="/technicalnotes/back-end/Java/SpringBoot/Swagger.html" class="sidebar-link">整合 Swagger</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="springboot-笔记"><a href="#springboot-笔记" class="header-anchor">#</a> SpringBoot 笔记</h1> <h2 id="创建项目"><a href="#创建项目" class="header-anchor">#</a> 创建项目</h2> <h3 id="创建"><a href="#创建" class="header-anchor">#</a> 创建</h3> <p>IDEA-新建项目-Spring Initializr</p> <p>包名：com.example</p> <p>Web-Spring Web : 基础Web服务
Developer Tools - Spring Boot DevTools : 调试工具</p> <h3 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h3> <p>新建包</p> <ul><li>新建\com\包名\controller : 控制器</li> <li>新建\com\包名\dao : 数据访问</li> <li>新建\com\包名\pojo : 对象</li> <li>新建\com\包名\service</li></ul> <h2 id="配置文件"><a href="#配置文件" class="header-anchor">#</a> 配置文件</h2> <p>SpringBoot使用一个全局的配置文件，配置文件名<code>application</code>是固定的；</p> <ul><li>application.properties</li> <li>application.yml</li></ul> <p>配置文件的作用：</p> <ul><li>修改SpringBoot自动配置的默认值</li> <li>SpringBoot在底层都给我们自动配置好</li></ul> <h3 id="配置文件优先级"><a href="#配置文件优先级" class="header-anchor">#</a> 配置文件优先级</h3> <p>从高到低：</p> <ol><li>项目路径下的config文件夹配置文件</li> <li>项目路径下配置文件</li> <li>资源路径下的config文件夹配置文件</li> <li>资源路径下配置文件</li></ol> <h3 id="多环境配置文件"><a href="#多环境配置文件" class="header-anchor">#</a> 多环境配置文件</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># 选择当前配置</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> dev
<span class="token punctuation">---</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8000</span>
<span class="token comment"># 设置当前配置名</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> dev
<span class="token punctuation">---</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
<span class="token comment"># 设置当前配置名</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> test

</code></pre></div><h2 id="yaml"><a href="#yaml" class="header-anchor">#</a> YAML</h2> <p>以<code>数据</code>为中心，比json、xml等更适合做配置文件</p> <p>删除<code>\src\main\resources\application.properties</code><br>
新建<code>\src\main\resources\application.yml</code></p> <h3 id="键值对"><a href="#键值对" class="header-anchor">#</a> 键值对</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">键</span><span class="token punctuation">:</span> 值
</code></pre></div><h3 id="对象"><a href="#对象" class="header-anchor">#</a> 对象</h3> <p><code>键: 值</code>在下一行来写对象的属性和值的关系；注意缩进</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">对象名</span><span class="token punctuation">:</span>
    <span class="token key atrule">属性名</span><span class="token punctuation">:</span> 值
    <span class="token key atrule">属性名</span><span class="token punctuation">:</span> 值
<span class="token key atrule">对象名</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">属性名</span><span class="token punctuation">:</span> 值<span class="token punctuation">,</span><span class="token key atrule">属性名</span><span class="token punctuation">:</span> 值<span class="token punctuation">}</span>
</code></pre></div><h3 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">数组名</span><span class="token punctuation">:</span> 
     <span class="token punctuation">-</span> 值
     <span class="token punctuation">-</span> 值
<span class="token key atrule">数组名</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>值<span class="token punctuation">,</span>值<span class="token punctuation">]</span>
</code></pre></div><h3 id="注入配置文件"><a href="#注入配置文件" class="header-anchor">#</a> 注入配置文件</h3> <p>将yaml中的数据注入到代码中，一般用于配置类，如数据库信息等</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;对象名&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> 类名 <span class="token punctuation">{</span>
    <span class="token keyword">private</span>  数据类型 属性名<span class="token punctuation">;</span>
    <span class="token keyword">private</span> 数据类型 属性名<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">对象名</span><span class="token punctuation">:</span>
  <span class="token key atrule">属性名</span><span class="token punctuation">:</span> 值
  <span class="token key atrule">属性名</span><span class="token punctuation">:</span> 值
</code></pre></div><p>解决报红：</p> <p>在 \pom.xml 内加入以下依赖</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 解决注入配置文件报错 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="jsr303-数据校验"><a href="#jsr303-数据校验" class="header-anchor">#</a> JSR303 数据校验</h3> <p>用来检验数据是否符合指定规格</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Validated</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> 类名 <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Email</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">&quot;邮箱格式错误&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span>  <span class="token class-name">String</span> email<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>解决报红：</p> <p>在 \pom.xml 内加入以下依赖</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 解决JSR303报错 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-validation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>空检查：</p> <ul><li>@Null : 验证对象是否为null</li> <li>@NotNull : 验证对象是否不为null，无法检测长度为0的字符串</li> <li>@NotBlank : 检测字符串是不是Null和被Trim的长度是否大于0，只对字符串，且会去掉前后空格</li> <li>@NotEmpty : 检查约束元素是否为NULL或者是EMPTY</li></ul> <p>Booelan 检查：</p> <ul><li>@AssertTrue : 验证 Booelan 对象是否为True</li> <li>@AssertFalse : 验证 Booelan 对象是否为False</li></ul> <p>长度检查：</p> <ul><li>@Size(min=,max=) : 验证对象长度是否在指定范围内</li> <li>@Length(min=,max=)</li></ul> <p>日期检查：</p> <ul><li>@Past : 验证 Date 和 Calendar 对象是否在当前时间之前</li> <li>@Future : 验证 Date 和 Calendar 对象是否在当前时间之后</li> <li>@Pattern : 验证 String 对象是否符合正则表达式规则</li></ul> <h2 id="自定义配置"><a href="#自定义配置" class="header-anchor">#</a> 自定义配置</h2> <p>新建<code>\java\com\包名\config</code>目录</p> <h3 id="创建-2"><a href="#创建-2" class="header-anchor">#</a> 创建</h3> <p>新建<code>\java\com\包名\config\配置名.java</code>文件</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> 配置名 <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addViewControllers</span><span class="token punctuation">(</span><span class="token class-name">ViewControllerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">&quot;/index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">&quot;/main.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;dashboard&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token class-name">InterceptorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LoginHanderInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPathPatterns</span><span class="token punctuation">(</span><span class="token string">&quot;/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span><span class="token string">&quot;/index.html&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/user/login&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/static/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="控制器"><a href="#控制器" class="header-anchor">#</a> 控制器</h2> <p>新建<code>\java\com\包名\controller</code>目录</p> <h3 id="创建-3"><a href="#创建-3" class="header-anchor">#</a> 创建</h3> <p>新建<code>\java\com\包名\controller\控制器名.java</code>文件</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> 控制器名 <span class="token punctuation">{</span>
    <span class="token comment">// 常规请求</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/路径&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> 方法名<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Get请求</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/路径&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> 方法名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Post请求</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/路径&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> 方法名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="传参"><a href="#传参" class="header-anchor">#</a> 传参</h3> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/路径/{参数名}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> 方法名<span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;参数名&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> 参数名<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> 参数名<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="注解"><a href="#注解" class="header-anchor">#</a> 注解</h3> <ul><li>@Controller : 可以返回视图页面</li> <li>@ResponseBody : 将 Controller 的方法返回的对象，通过 springmvc 提供的HttpMessageConverter接口转换为指定格式的数据如：json,xml 等，通过 Response 响应给客户端</li> <li>@RestController : 相当于 @Controller + @ResponseBody，只能返回 json 数据，无法返回 jsp 、 html 视图页面</li></ul> <h2 id="静态资源"><a href="#静态资源" class="header-anchor">#</a> 静态资源</h2> <h3 id="优先级"><a href="#优先级" class="header-anchor">#</a> 优先级</h3> <p>如不存在目录可新建</p> <ol><li>\src\main\resources\resources</li> <li>\src\main\resources\static （默认）</li> <li>\src\main\resources\public</li></ol> <h3 id="首页"><a href="#首页" class="header-anchor">#</a> 首页</h3> <p>默认首页为资源目录下的``index.html`</p> <h2 id="thymeleaf-模版引擎"><a href="#thymeleaf-模版引擎" class="header-anchor">#</a> thymeleaf 模版引擎</h2> <p>模板弓|擎的作用是我们来写一个页面模板， 比如有些值是动态的，我们写一些表达式。
而这些值，从哪来呢，我们来组装一些数据， 把这些数据找到。然后把这个模板和这个数
据交给我们模板引擎，模板引|擎按照我们这个数据帮你把这表达式解析、填充到我们指定的位
置，然后把这个数据最终生成一个我们想要的内容给我们写出去， 这就是模板引擎</p> <h3 id="导入"><a href="#导入" class="header-anchor">#</a> 导入</h3> <p>\pom.xml</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- thymeleaf 模板引擎 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="关闭模板引擎缓存"><a href="#关闭模板引擎缓存" class="header-anchor">#</a> 关闭模板引擎缓存</h3> <p>\src\main\resources\application.yml</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># 关闭模版引擎缓存</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">thymeleaf</span><span class="token punctuation">:</span>
    <span class="token key atrule">cache</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre></div><h3 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h3> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token comment">//templates目录下页面只能通过 controller 跳转</span>
<span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>
   <span class="token comment">//普通使用：</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/XXX&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">XXX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span>  <span class="token string">&quot;页面名称&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//传参：</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/XXX&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">XXX</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span><span class="token punctuation">{</span>
       map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;参数名&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;参数值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span>  <span class="token string">&quot;页面名称&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\src\main\resources\templates\页面名称.html</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 增加命名空间，代码提示 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>参数：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${参数名}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="遍历数据"><a href="#遍历数据" class="header-anchor">#</a> 遍历数据</h3> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IndexController</span> <span class="token punctuation">{</span>
    <span class="token comment">//在templates目录下的所有页面，只能通过controller 跳转</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;数组名&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;值1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;值2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item : ${数组名}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${item}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="三元运算符"><a href="#三元运算符" class="header-anchor">#</a> 三元运算符</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${变量 == 值 ? <span class="token punctuation">'</span>真<span class="token punctuation">'</span> : <span class="token punctuation">'</span>假<span class="token punctuation">'</span>}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="格式化时间"><a href="#格式化时间" class="header-anchor">#</a> 格式化时间</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${#dates.format(时间,<span class="token punctuation">'</span>yyyy-MM-dd HH:mm<span class="token punctuation">'</span>)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="自定义错误"><a href="#自定义错误" class="header-anchor">#</a> 自定义错误</h3> <p>创建：<br> <code>\main\resources\templates\error\404.html</code> <code>\main\resources\templates\error\4xx.html</code></p> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>状态码：[[${status}]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>时间：[[${timestamp}]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="拦截器"><a href="#拦截器" class="header-anchor">#</a> 拦截器</h2> <p>创建 <code>com\example\config\拦截器名.java</code></p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> 拦截器名 <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Object</span> loginUser <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;Session名&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>loginUser <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//没有登录</span>
            request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;没有权限，请登录&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">ModelAndView</span> modelAndView<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="错误页面配置"><a href="#错误页面配置" class="header-anchor">#</a> 错误页面配置</h2> <h3 id="自定义json异常"><a href="#自定义json异常" class="header-anchor">#</a> 自定义Json异常</h3> <p><strong>在所有路由中出现的错误都会被这里接管</strong></p> <p>无自适应（纯Json）：</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ControllerAdvice</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">handleException</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;code&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;100011&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>自适应（浏览器显示页面，其他客户端显示Json）：</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ControllerAdvice</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">handleException</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//设置状态码</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;javax.servlet.error.status_code&quot;</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//把数据放到request域中</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;ext&quot;</span><span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;forward:/error&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="servlet"><a href="#servlet" class="header-anchor">#</a> Servlet</h2> <h3 id="创建-4"><a href="#创建-4" class="header-anchor">#</a> 创建</h3> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span>  <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doPost</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;Hello MyServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="注册"><a href="#注册" class="header-anchor">#</a> 注册</h3> <p>\MyServerConfig.java</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServerConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletRegistrationBean</span> <span class="token function">myServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">ServletRegistrationBean</span> registrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletRegistrationBean</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> registrationBean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="异步任务"><a href="#异步任务" class="header-anchor">#</a> 异步任务</h2> <p>开一个线程池，进行调用</p> <h3 id="开启异步注解"><a href="#开启异步注解" class="header-anchor">#</a> 开启异步注解</h3> <p>com\example\项目名称.java</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token comment">//开启异步注解功能</span>
<span class="token annotation punctuation">@EnableAsync</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> 项目名称 <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="使用-2"><a href="#使用-2" class="header-anchor">#</a> 使用</h3> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Async</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> 方法名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="邮件发送任务"><a href="#邮件发送任务" class="header-anchor">#</a> 邮件发送任务</h2> <p>发送Email邮件</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>QQ邮箱需要获取<a href="https://service.mail.qq.com/cgi-bin/help?subtype=1&amp;id=28&amp;no=1001256" target="_blank" rel="noopener noreferrer">授权码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="依赖"><a href="#依赖" class="header-anchor">#</a> 依赖</h3> <p>pom.xml</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--邮件任务--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-mail<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="配置-2"><a href="#配置-2" class="header-anchor">#</a> 配置</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># 配置发送邮箱信息</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">mail</span><span class="token punctuation">:</span>
    <span class="token comment"># 发送人邮箱</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> 
    <span class="token comment"># 密码（授权码）</span>
    <span class="token key atrule">password</span><span class="token punctuation">:</span> 
    <span class="token key atrule">host</span><span class="token punctuation">:</span> smtp.qq.com
    <span class="token key atrule">protocol</span><span class="token punctuation">:</span> smtp
</code></pre></div><h3 id="简单使用"><a href="#简单使用" class="header-anchor">#</a> 简单使用</h3> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token class-name">JavaMailSenderImpl</span> mailSenderImpl<span class="token punctuation">;</span>

<span class="token class-name">SimpleMailMessage</span> simpleMessage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleMailMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

simpleMessage<span class="token punctuation">.</span><span class="token function">setTo</span><span class="token punctuation">(</span><span class="token string">&quot;收件人邮箱&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
simpleMessage<span class="token punctuation">.</span><span class="token function">setFrom</span><span class="token punctuation">(</span><span class="token string">&quot;发送人邮箱&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

simpleMessage<span class="token punctuation">.</span><span class="token function">setSubject</span><span class="token punctuation">(</span><span class="token string">&quot;邮箱标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
simpleMessage<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;邮箱内容&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mailSenderImpl<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>simpleMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="复杂使用"><a href="#复杂使用" class="header-anchor">#</a> 复杂使用</h3> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token class-name">JavaMailSenderImpl</span> mailSenderImpl<span class="token punctuation">;</span>

<span class="token class-name">MimeMessage</span> mimeMessage <span class="token operator">=</span> mailSenderImpl<span class="token punctuation">.</span><span class="token function">createMimeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MimeMessageHelper</span> mimeMessageHelper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MimeMessageHelper</span><span class="token punctuation">(</span>mimeMessage<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mimeMessageHelper<span class="token punctuation">.</span><span class="token function">setTo</span><span class="token punctuation">(</span><span class="token string">&quot;收件人邮箱&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mimeMessageHelper<span class="token punctuation">.</span><span class="token function">setFrom</span><span class="token punctuation">(</span><span class="token string">&quot;发送人邮箱&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mimeMessageHelper<span class="token punctuation">.</span><span class="token function">setSubject</span><span class="token punctuation">(</span><span class="token string">&quot;邮箱标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mimeMessageHelper<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;邮箱内容&lt;/h1&gt;&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//附件</span>
mimeMessageHelper<span class="token punctuation">.</span><span class="token function">addAttachment</span><span class="token punctuation">(</span><span class="token string">&quot;附件名&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;文件路径&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mailSenderImpl<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>mimeMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="定时任务"><a href="#定时任务" class="header-anchor">#</a> 定时任务</h2> <p>在特定的时间执行方法，或每隔一段时间执行方法</p> <h3 id="开启定时任务注解"><a href="#开启定时任务注解" class="header-anchor">#</a> 开启定时任务注解</h3> <p>com\example\项目名称.java</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token comment">//开启定时注解功能</span>
<span class="token annotation punctuation">@EnableScheduling</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> 项目名称 <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="使用-3"><a href="#使用-3" class="header-anchor">#</a> 使用</h3> <p><a href="http://cron.qqe2.com" target="_blank" rel="noopener noreferrer">Cron表达式在线生成<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token comment">// cron表达式：秒 分 时 日 月 周几</span>
<span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">=</span> <span class="token string">&quot;cron表达式&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> 方法名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">2020/8/4 下午4:47:37</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/technicalnotes/back-end/Java/SpringBoot/MyBatis.html" class="prev">
        整合 MyBatis
      </a></span> <span class="next"><a href="/technicalnotes/back-end/Java/SpringBoot/Shiro.html">
        整合 Shiro
      </a>
      →
    </span></p></div> </main></div> <div class="footer" data-v-34d4abe6><div id="footer-info" data-v-34d4abe6><div class="footer-left" data-v-34d4abe6>
      © 2020-2022
      <!----></div> <div class="footer-right" data-v-34d4abe6>Theme:<a href="https://github.com/JoeyBling/vuepress-theme-yilia-plus" target="_blank">vuepress-theme-yilia-plus</a> by Litten</div></div> <div class="busuanzi" data-v-34d4abe6><span id="busuanzi_container_site_pv" style="display:none">
    本站总访问量
    <span id="busuanzi_value_site_pv"></span>次
    <span class="post-meta-divider">|</span></span> <span id="busuanzi_container_site_uv" style="display:none">
    本站访客数
    <span id="busuanzi_value_site_uv"></span>人
  </span></div></div></main><div class="global-ui"><!----><!----></div></div>
    <script src="/technicalnotes/assets/js/app.0feb97d4.js" defer></script><script src="/technicalnotes/assets/js/2.ff058272.js" defer></script><script src="/technicalnotes/assets/js/47.41e039a0.js" defer></script><script src="/technicalnotes/assets/js/12.4f94ad0c.js" defer></script>
  </body>
</html>
