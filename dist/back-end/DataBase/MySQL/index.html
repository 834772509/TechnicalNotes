<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL 数据库 | 杉-技术笔记</title>
    <meta name="description" content="记录工作和学习过程中的笔记">
    <link rel="icon" href="/technicalnotes/img/LOGO.ico">
    
    <link rel="preload" href="/technicalnotes/assets/css/0.styles.9c093322.css" as="style"><link rel="preload" href="/technicalnotes/assets/js/app.45c53b6a.js" as="script"><link rel="preload" href="/technicalnotes/assets/js/2.f6e0044f.js" as="script"><link rel="preload" href="/technicalnotes/assets/js/4.09c72c63.js" as="script"><link rel="preload" href="/technicalnotes/assets/js/9.22f6ea90.js" as="script"><link rel="prefetch" href="/technicalnotes/assets/js/10.a44a7439.js"><link rel="prefetch" href="/technicalnotes/assets/js/100.0206d033.js"><link rel="prefetch" href="/technicalnotes/assets/js/101.5211b10d.js"><link rel="prefetch" href="/technicalnotes/assets/js/102.69666e99.js"><link rel="prefetch" href="/technicalnotes/assets/js/103.803d8721.js"><link rel="prefetch" href="/technicalnotes/assets/js/104.52d0e789.js"><link rel="prefetch" href="/technicalnotes/assets/js/105.89a56e98.js"><link rel="prefetch" href="/technicalnotes/assets/js/106.5925f826.js"><link rel="prefetch" href="/technicalnotes/assets/js/107.f6a11c3a.js"><link rel="prefetch" href="/technicalnotes/assets/js/108.7b853416.js"><link rel="prefetch" href="/technicalnotes/assets/js/109.f9cd8160.js"><link rel="prefetch" href="/technicalnotes/assets/js/11.0649985b.js"><link rel="prefetch" href="/technicalnotes/assets/js/110.4fd0deee.js"><link rel="prefetch" href="/technicalnotes/assets/js/111.26f2bc5f.js"><link rel="prefetch" href="/technicalnotes/assets/js/112.1d64f136.js"><link rel="prefetch" href="/technicalnotes/assets/js/113.555be0fa.js"><link rel="prefetch" href="/technicalnotes/assets/js/114.72fdd402.js"><link rel="prefetch" href="/technicalnotes/assets/js/115.b2495bdc.js"><link rel="prefetch" href="/technicalnotes/assets/js/116.4ec80635.js"><link rel="prefetch" href="/technicalnotes/assets/js/117.84137761.js"><link rel="prefetch" href="/technicalnotes/assets/js/118.f8e88d35.js"><link rel="prefetch" href="/technicalnotes/assets/js/119.bffef01a.js"><link rel="prefetch" href="/technicalnotes/assets/js/12.62c0edb7.js"><link rel="prefetch" href="/technicalnotes/assets/js/120.b53d09f8.js"><link rel="prefetch" href="/technicalnotes/assets/js/13.02fa1818.js"><link rel="prefetch" href="/technicalnotes/assets/js/14.04b968c4.js"><link rel="prefetch" href="/technicalnotes/assets/js/15.e67ceee7.js"><link rel="prefetch" href="/technicalnotes/assets/js/16.bc12c524.js"><link rel="prefetch" href="/technicalnotes/assets/js/17.9ed46bb5.js"><link rel="prefetch" href="/technicalnotes/assets/js/18.06b61eb2.js"><link rel="prefetch" href="/technicalnotes/assets/js/19.d6aafdea.js"><link rel="prefetch" href="/technicalnotes/assets/js/20.711b8b5a.js"><link rel="prefetch" href="/technicalnotes/assets/js/21.71ed98fc.js"><link rel="prefetch" href="/technicalnotes/assets/js/22.4ad65ff9.js"><link rel="prefetch" href="/technicalnotes/assets/js/23.3d99e9b2.js"><link rel="prefetch" href="/technicalnotes/assets/js/24.a31043dd.js"><link rel="prefetch" href="/technicalnotes/assets/js/25.e79e706d.js"><link rel="prefetch" href="/technicalnotes/assets/js/26.80e376fe.js"><link rel="prefetch" href="/technicalnotes/assets/js/27.4126966f.js"><link rel="prefetch" href="/technicalnotes/assets/js/28.a50ee827.js"><link rel="prefetch" href="/technicalnotes/assets/js/29.c7738bc3.js"><link rel="prefetch" href="/technicalnotes/assets/js/3.a038d47c.js"><link rel="prefetch" href="/technicalnotes/assets/js/30.a58d39be.js"><link rel="prefetch" href="/technicalnotes/assets/js/31.6a46c232.js"><link rel="prefetch" href="/technicalnotes/assets/js/32.a2e60ae5.js"><link rel="prefetch" href="/technicalnotes/assets/js/33.9910b0f9.js"><link rel="prefetch" href="/technicalnotes/assets/js/34.89a6cc09.js"><link rel="prefetch" href="/technicalnotes/assets/js/35.0836f372.js"><link rel="prefetch" href="/technicalnotes/assets/js/36.87470089.js"><link rel="prefetch" href="/technicalnotes/assets/js/37.81fe903a.js"><link rel="prefetch" href="/technicalnotes/assets/js/38.e30ca008.js"><link rel="prefetch" href="/technicalnotes/assets/js/39.85bb3ec2.js"><link rel="prefetch" href="/technicalnotes/assets/js/40.02d1916c.js"><link rel="prefetch" href="/technicalnotes/assets/js/41.258bcbca.js"><link rel="prefetch" href="/technicalnotes/assets/js/42.3bdae763.js"><link rel="prefetch" href="/technicalnotes/assets/js/43.712ee8bc.js"><link rel="prefetch" href="/technicalnotes/assets/js/44.b41422d6.js"><link rel="prefetch" href="/technicalnotes/assets/js/45.0b230359.js"><link rel="prefetch" href="/technicalnotes/assets/js/46.7f2354f6.js"><link rel="prefetch" href="/technicalnotes/assets/js/47.c25d06b9.js"><link rel="prefetch" href="/technicalnotes/assets/js/48.39d0e776.js"><link rel="prefetch" href="/technicalnotes/assets/js/49.ac8d9626.js"><link rel="prefetch" href="/technicalnotes/assets/js/5.7ec810c2.js"><link rel="prefetch" href="/technicalnotes/assets/js/50.691bb198.js"><link rel="prefetch" href="/technicalnotes/assets/js/51.19e00a81.js"><link rel="prefetch" href="/technicalnotes/assets/js/52.7601c0e5.js"><link rel="prefetch" href="/technicalnotes/assets/js/53.4615a982.js"><link rel="prefetch" href="/technicalnotes/assets/js/54.cf21e2fe.js"><link rel="prefetch" href="/technicalnotes/assets/js/55.c5acbf8a.js"><link rel="prefetch" href="/technicalnotes/assets/js/56.7d9956fe.js"><link rel="prefetch" href="/technicalnotes/assets/js/57.c34872bd.js"><link rel="prefetch" href="/technicalnotes/assets/js/58.8f519624.js"><link rel="prefetch" href="/technicalnotes/assets/js/59.66fceff8.js"><link rel="prefetch" href="/technicalnotes/assets/js/6.6adfc43c.js"><link rel="prefetch" href="/technicalnotes/assets/js/60.e7c87b75.js"><link rel="prefetch" href="/technicalnotes/assets/js/61.c60ec555.js"><link rel="prefetch" href="/technicalnotes/assets/js/62.5b7adf36.js"><link rel="prefetch" href="/technicalnotes/assets/js/63.452e62d6.js"><link rel="prefetch" href="/technicalnotes/assets/js/64.52d95454.js"><link rel="prefetch" href="/technicalnotes/assets/js/65.f5fe8432.js"><link rel="prefetch" href="/technicalnotes/assets/js/66.d6f77ab6.js"><link rel="prefetch" href="/technicalnotes/assets/js/67.5b7cb572.js"><link rel="prefetch" href="/technicalnotes/assets/js/68.620146d6.js"><link rel="prefetch" href="/technicalnotes/assets/js/69.7befa1b2.js"><link rel="prefetch" href="/technicalnotes/assets/js/7.e397c714.js"><link rel="prefetch" href="/technicalnotes/assets/js/70.82f07450.js"><link rel="prefetch" href="/technicalnotes/assets/js/71.3cea3604.js"><link rel="prefetch" href="/technicalnotes/assets/js/72.abdcf6c6.js"><link rel="prefetch" href="/technicalnotes/assets/js/73.e0bee79d.js"><link rel="prefetch" href="/technicalnotes/assets/js/74.9382ceec.js"><link rel="prefetch" href="/technicalnotes/assets/js/75.0de25eb1.js"><link rel="prefetch" href="/technicalnotes/assets/js/76.ffc7a25c.js"><link rel="prefetch" href="/technicalnotes/assets/js/77.6808e90b.js"><link rel="prefetch" href="/technicalnotes/assets/js/78.937e2340.js"><link rel="prefetch" href="/technicalnotes/assets/js/79.d15fb53d.js"><link rel="prefetch" href="/technicalnotes/assets/js/8.8d35fb58.js"><link rel="prefetch" href="/technicalnotes/assets/js/80.09907299.js"><link rel="prefetch" href="/technicalnotes/assets/js/81.9f52d595.js"><link rel="prefetch" href="/technicalnotes/assets/js/82.389e9f52.js"><link rel="prefetch" href="/technicalnotes/assets/js/83.80393c59.js"><link rel="prefetch" href="/technicalnotes/assets/js/84.2a2c8580.js"><link rel="prefetch" href="/technicalnotes/assets/js/85.2b10e791.js"><link rel="prefetch" href="/technicalnotes/assets/js/86.40e4341a.js"><link rel="prefetch" href="/technicalnotes/assets/js/87.48ba31f0.js"><link rel="prefetch" href="/technicalnotes/assets/js/88.df6e074f.js"><link rel="prefetch" href="/technicalnotes/assets/js/89.1f26b27d.js"><link rel="prefetch" href="/technicalnotes/assets/js/90.c2b1897c.js"><link rel="prefetch" href="/technicalnotes/assets/js/91.d141db91.js"><link rel="prefetch" href="/technicalnotes/assets/js/92.9d9f5fd3.js"><link rel="prefetch" href="/technicalnotes/assets/js/93.365f5349.js"><link rel="prefetch" href="/technicalnotes/assets/js/94.dfd94dee.js"><link rel="prefetch" href="/technicalnotes/assets/js/95.7004c82b.js"><link rel="prefetch" href="/technicalnotes/assets/js/96.fc6efac1.js"><link rel="prefetch" href="/technicalnotes/assets/js/97.f7b6ae7b.js"><link rel="prefetch" href="/technicalnotes/assets/js/98.0841ba0b.js"><link rel="prefetch" href="/technicalnotes/assets/js/99.e11b204a.js">
    <link rel="stylesheet" href="/technicalnotes/assets/css/0.styles.9c093322.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><main><main slot="sidebar-top"><!----></main> <div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/technicalnotes/" class="home-link router-link-active"><!----> <span class="site-name">杉-技术笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/technicalnotes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Web 开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/CSS3/" class="nav-link">
  CSS3
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/JavaScript/" class="nav-link">
  JavaScript
</a></li></ul></li><li class="dropdown-item"><h4>
          前端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/React/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/WechatApplet/" class="nav-link">
  微信小程序
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Electron/" class="nav-link">
  Electron
</a></li></ul></li><li class="dropdown-item"><h4>
          移动端开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Andorid/" class="nav-link">
  Andorid
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Flutter/" class="nav-link">
  Flutter
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/" class="nav-link">
  Java 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JavaWeb/" class="nav-link">
  JavaWeb
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringMVC/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringBoot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JVM/" class="nav-link">
  JVM
</a></li></ul></li><li class="dropdown-item"><h4>
          Rust
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Rust/" class="nav-link">
  Rust
</a></li></ul></li><li class="dropdown-item"><h4>
          Node.js
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Node.js/" class="nav-link">
  Node.js
</a></li></ul></li><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/" class="nav-link">
  Python 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/Flask/" class="nav-link">
  Flask
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/MySQL/" class="nav-link router-link-exact-active router-link-active">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/Redis/" class="nav-link">
  Redis
</a></li></ul></li><li class="dropdown-item"><h4>
          PHP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/" class="nav-link">
  PHP 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/ThinkPHP/" class="nav-link">
  ThinkPHP
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Photoshop/" class="nav-link">
  Photoshop
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/WinPE/" class="nav-link">
  WinPE
</a></li></ul></div></div><div class="nav-item"><a href="https://firpe.cn/about" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://firpe.cn/donate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投食 
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/technicalnotes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Web 开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/CSS3/" class="nav-link">
  CSS3
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/JavaScript/" class="nav-link">
  JavaScript
</a></li></ul></li><li class="dropdown-item"><h4>
          前端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/React/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/WechatApplet/" class="nav-link">
  微信小程序
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Electron/" class="nav-link">
  Electron
</a></li></ul></li><li class="dropdown-item"><h4>
          移动端开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Andorid/" class="nav-link">
  Andorid
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Flutter/" class="nav-link">
  Flutter
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/" class="nav-link">
  Java 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JavaWeb/" class="nav-link">
  JavaWeb
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringMVC/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringBoot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JVM/" class="nav-link">
  JVM
</a></li></ul></li><li class="dropdown-item"><h4>
          Rust
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Rust/" class="nav-link">
  Rust
</a></li></ul></li><li class="dropdown-item"><h4>
          Node.js
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Node.js/" class="nav-link">
  Node.js
</a></li></ul></li><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/" class="nav-link">
  Python 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/Flask/" class="nav-link">
  Flask
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/MySQL/" class="nav-link router-link-exact-active router-link-active">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/Redis/" class="nav-link">
  Redis
</a></li></ul></li><li class="dropdown-item"><h4>
          PHP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/" class="nav-link">
  PHP 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/ThinkPHP/" class="nav-link">
  ThinkPHP
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Photoshop/" class="nav-link">
  Photoshop
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/WinPE/" class="nav-link">
  WinPE
</a></li></ul></div></div><div class="nav-item"><a href="https://firpe.cn/about" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://firpe.cn/donate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投食 
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MySQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/technicalnotes/back-end/DataBase/MySQL/" class="active sidebar-link">MySQL 数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#基本概念" class="sidebar-link">基本概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#为什么需要数据库？" class="sidebar-link">为什么需要数据库？</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#常见的数据库有哪些？" class="sidebar-link">常见的数据库有哪些？</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#认识-mysql" class="sidebar-link">认识 MySQL</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#mysql-默认的数据库" class="sidebar-link">MySQL 默认的数据库</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#环境搭建" class="sidebar-link">环境搭建</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#终端操作数据库" class="sidebar-link">终端操作数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#登录" class="sidebar-link">登录</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#数据库操作" class="sidebar-link">数据库操作</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#数据表操作" class="sidebar-link">数据表操作</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#sql-的数据类型" class="sidebar-link">SQL 的数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#数字类型" class="sidebar-link">数字类型</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#日期类型" class="sidebar-link">日期类型</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#字符串类型" class="sidebar-link">字符串类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#表约束" class="sidebar-link">表约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#主键-primary-key" class="sidebar-link">主键 PRIMARY KEY</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#唯一-unique" class="sidebar-link">唯一 UNIQUE</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#不能为空：not-null" class="sidebar-link">不能为空：NOT NULL</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#默认值：default" class="sidebar-link">默认值：DEFAULT</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#自动递增：auto-increment" class="sidebar-link">自动递增：AUTO_INCREMENT</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#sql-语句" class="sidebar-link">SQL 语句</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#sql-语句的分类" class="sidebar-link">SQL 语句的分类</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#sql-语句的常用规范" class="sidebar-link">SQL 语句的常用规范</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#数据库操作-2" class="sidebar-link">数据库操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#创建数据库" class="sidebar-link">创建数据库</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#删除数据库" class="sidebar-link">删除数据库</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#修改数据库编码" class="sidebar-link">修改数据库编码</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#数据表的操作" class="sidebar-link">数据表的操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#创建表" class="sidebar-link">创建表</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#删除表" class="sidebar-link">删除表</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#修改表" class="sidebar-link">修改表</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#根据一个表结构创建另外一张表" class="sidebar-link">根据一个表结构创建另外一张表</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#根据一个表中的所有内容，创建另外一张表" class="sidebar-link">根据一个表中的所有内容，创建另外一张表</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#查看表结构" class="sidebar-link">查看表结构</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#查看创建表的-sql-语句" class="sidebar-link">查看创建表的 SQL 语句</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#数据库的增删改" class="sidebar-link">数据库的增删改</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#增加数据" class="sidebar-link">增加数据</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#删除数据" class="sidebar-link">删除数据</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#修改数据" class="sidebar-link">修改数据</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#查询数据" class="sidebar-link">查询数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#基本查询" class="sidebar-link">基本查询</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#where-查询条件" class="sidebar-link">where 查询条件</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#分页查询" class="sidebar-link">分页查询</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#聚合函数" class="sidebar-link">聚合函数</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#group-by" class="sidebar-link">GROUP BY</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#外键" class="sidebar-link">外键</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#多表查询" class="sidebar-link">多表查询</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#对象和数据类型" class="sidebar-link">对象和数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#将查询到的数据转成数组" class="sidebar-link">将查询到的数据转成数组</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#将查询到的数据转成对象" class="sidebar-link">将查询到的数据转成对象</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#将联合查询到的数据转成对象" class="sidebar-link">将联合查询到的数据转成对象</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/DataBase/MySQL/#将查询到的多条数据，组织成对象，放入到一个数组中-多对多" class="sidebar-link">将查询到的多条数据，组织成对象，放入到一个数组中(多对多)</a></li></ul></li></ul></li><li><a href="/technicalnotes/back-end/DataBase/MySQL/_README.html" class="sidebar-link">SQL 笔记</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mysql-数据库"><a href="#mysql-数据库" class="header-anchor">#</a> MySQL 数据库</h1> <h2 id="基本概念"><a href="#基本概念" class="header-anchor">#</a> 基本概念</h2> <h3 id="为什么需要数据库？"><a href="#为什么需要数据库？" class="header-anchor">#</a> 为什么需要数据库？</h3> <ul><li>任何的软件系统都需要存放大量的数据，这些数据通常是非常复杂和庞大的：
<ul><li>比如用户信息包括姓名、年龄、性别、地址、身份证号、出生日期等等；</li> <li>比如商品信息包括商品的名称、描述、价格（原价）、分类标签、商品图片等等；</li> <li>比如歌曲信息包括歌曲的名称、歌手、专辑、歌曲时长、歌词信息、封面图片等等；</li></ul></li> <li>那么这些信息不能直接存储到文件中吗？可以，但是文件系统有很多的缺点：
<ul><li>很难以合适的方式组织数据（多张表之前的关系合理组织）；</li> <li>并且对数据进行增删改查中的复杂操作（虽然一些简单确实可以），并且保证单操作的原子性；</li> <li>很难进行数据共享，比如一个数据库需要为多个程序服务，如何进行很好的数据共享；</li> <li>需要考虑如何进行数据的高效备份、迁移、恢复；</li> <li>等等...</li></ul></li> <li>数据库通俗来讲就是一个存储数据的仓库，数据库本质上就是一个软件、一个程序。</li></ul> <h3 id="常见的数据库有哪些？"><a href="#常见的数据库有哪些？" class="header-anchor">#</a> 常见的数据库有哪些？</h3> <ul><li>关系型数据库：MySQL、Oracle、DB2、SQL Server、Postgre SQL 等；
<ul><li>关系型数据库通常我们会创建很多个二维数据表；</li> <li>数据表之间相互关联起来，形成一对一、一对多、多对对等关系；</li> <li>之后可以利用 SQL 语句在多张表中查询我们所需的数据；</li> <li>支持事务，对数据的访问更加的安全；</li></ul></li> <li>非关系型数据库：MongoDB、Redis、Memcached、HBse 等；
<ul><li>非关系型数据库的英文其实是 Not only SQL，也简称为 NoSQL；</li> <li>相当而已非关系型数据库比较简单一些，存储数据也会更加自由（甚至我们可以直接将一个复杂的 json 对象直入到数据库中）；</li> <li>NoSQL 是基于 Key-Value 的对应关系，并且查询的过程中不需要经过 SQL 解析，所以性能更高；</li> <li>NoSQL 通常不支持事务，需要在自己的程序中来保证一些原子性的操作；</li></ul></li> <li>如何在开发中选择他们呢？具体的选择会根据不同的项目进行综合的分析，我这里给一点点建议：
<ul><li>目前在公司进行后端开发（Node、Java、Go 等），还是以关系型数据库为主；</li> <li>比较常用的用到非关系型数据库的，在爬取大量的数据进行存储时，会比较常见；</li></ul></li></ul> <h3 id="认识-mysql"><a href="#认识-mysql" class="header-anchor">#</a> 认识 MySQL</h3> <ul><li>MySQL 的介绍：
<ul><li>MySQL 原本是一个开源的数据库，原开发者为瑞典的 MySQL AB 公司；</li> <li>在 2008 年被 Sun 公司收购；在 2009 年，Sun 被 Oracle 收购；</li> <li>所以目前 MySQL 归属于 Oracle；</li></ul></li> <li>MySQL 是一个关系型数据库，其实本质上就是一款软件、一个程序：
<ul><li>这个程序中管理着多个数据库；</li> <li>每个数据库中可以有多张表；</li> <li>每个表中可以有多条数据；</li></ul></li></ul> <h3 id="mysql-默认的数据库"><a href="#mysql-默认的数据库" class="header-anchor">#</a> MySQL 默认的数据库</h3> <ul><li>infomation_schema：信息数据库，其中包括 MySQL 在维护的其他数据库、表、 - 、访问权限等信息；</li> <li>performance_schema：性能数据库，记录着 MySQL Server 数据库引擎在运行 - 程中的一些资源消耗相关的信息；</li> <li>mysql：用于存储数据库管理者的用户信息、权限信息以及一些日志信息等；</li> <li>sys：相当于是一个简易版的 performance_schema，将性能数据库中的数据汇总成更容易理解的形式；</li></ul> <h2 id="环境搭建"><a href="#环境搭建" class="header-anchor">#</a> 环境搭建</h2> <p>(MySQL 下载)[https://dev.mysql.com/downloads/mysql/]</p> <h2 id="终端操作数据库"><a href="#终端操作数据库" class="header-anchor">#</a> 终端操作数据库</h2> <h3 id="登录"><a href="#登录" class="header-anchor">#</a> 登录</h3> <p><code>mysql -u用户名 -p密码</code></p> <h3 id="数据库操作"><a href="#数据库操作" class="header-anchor">#</a> 数据库操作</h3> <ul><li>显示数据库：<code>show databases;</code></li> <li>创建数据库：<code>create database 数据库名;</code></li> <li>选择数据库：<code>use 数据库名;</code></li></ul> <h3 id="数据表操作"><a href="#数据表操作" class="header-anchor">#</a> 数据表操作</h3> <ul><li>创建表：<code>create table 表名(字段名 数据类型,字段名 数据类型);</code></li> <li>插入数据：<code>insert into 表名(字段名,字段名) values (值,值);</code></li></ul> <h2 id="sql-的数据类型"><a href="#sql-的数据类型" class="header-anchor">#</a> SQL 的数据类型</h2> <h3 id="数字类型"><a href="#数字类型" class="header-anchor">#</a> 数字类型</h3> <ul><li>整数数字类型：INTEGER，INT，SMALLINT，TINYINT，MEDIUMINT，BIGINT；</li></ul> <table><thead><tr><th>类型</th> <th>储存空间（Bytes）</th> <th>最小值有符号</th> <th>最小值无符号</th> <th>最大值有符号</th> <th>最大值无符号</th></tr></thead> <tbody><tr><td>TINYINT</td> <td>1</td> <td>-128</td> <td>0</td> <td>127</td> <td>255</td></tr> <tr><td>SMALLINT</td> <td>2</td> <td>-32768</td> <td>0</td> <td>32767</td> <td>65535</td></tr> <tr><td>MEDIUMINT</td> <td>3</td> <td>-8388608</td> <td>0</td> <td>8388607</td> <td>16777215</td></tr> <tr><td><strong>INT</strong></td> <td>4</td> <td>-2147483648</td> <td>0</td> <td>2147483647</td> <td>4294967295</td></tr> <tr><td>BIGINT</td> <td>8</td> <td>-2^63</td> <td>0</td> <td>2^63-1</td> <td>2^64-1</td></tr></tbody></table> <ul><li>精确数字类型：DECIMAL，NUMERIC（DECIMAL 是 NUMERIC 的实现形式）；</li> <li>浮点数字类型：FLOAT，DOUBLE（FLOAT 是 4 个字节，DOUBLE 是 8 个字节）；</li></ul> <h3 id="日期类型"><a href="#日期类型" class="header-anchor">#</a> 日期类型</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>DATETIME 或 TIMESTAMP 值可以包括在高达微秒（6 位）精度的后小数秒一部分。比如 DATETIME 表示的范围可以是'1000-01-01 00:00:00.000000'到'9999-12-31 23:59:59.999999';</p></div> <ul><li>YEAR 以 YYYY 格式显示值
<ul><li>范围 1901 到 2155，和 0000。</li></ul></li> <li>DATE 类型用于<strong>具有日期部分但没有时间部分</strong>的值：
<ul><li>DATE 以格式 YYYY-MM-DD 显示值 ；</li> <li>支持的范围是 '1000-01-01' 到 '9999-12-31'；</li></ul></li> <li>DATETIME 类型用于<strong>包含日期和时间</strong>部分的值：
<ul><li>DATETIME 以格式'YYYY-MM-DD hh:mm:ss'显示值；</li> <li>支持的范围是 1000-01-01 00:00:00 到 9999-12-31 23:59:59;</li></ul></li> <li><strong>TIMESTAMP</strong> 数据类型被用于<strong>同时包含日期和时间</strong>部分的值：
<ul><li>TIMESTAMP 以格式'YYYY-MM-DD hh:mm:ss'显示值；</li> <li>但是它的范围是 UTC 的时间范围：'1970-01-01 00:00:01'到'2038-01-19 03:14:07';</li></ul></li></ul> <h3 id="字符串类型"><a href="#字符串类型" class="header-anchor">#</a> 字符串类型</h3> <ul><li>CHAR 类型在创建表时为固定长度，长度可以是 0 到 255 之间的任何值；
<ul><li>在被查询时，会删除后面的空格；</li></ul></li> <li><strong>VARCHAR</strong> 类型的值是可变长度的字符串，长度可以指定为 0 到 65535 之间的值；
<ul><li>在被查询时，不会删除后面的空格；</li></ul></li> <li>BINARY 和 VARBINARY 类型用于存储二进制字符串，存储的是字节字符串；</li> <li>BLOB 用于存储大的二进制类型；</li> <li>TEXT 用于存储大的字符串类型；</li></ul> <h2 id="表约束"><a href="#表约束" class="header-anchor">#</a> 表约束</h2> <h3 id="主键-primary-key"><a href="#主键-primary-key" class="header-anchor">#</a> 主键 PRIMARY KEY</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>开发中主键字段应该是和业务无关的，尽量不要使用业务字段来作为主键</p></div> <p>一张表中，我们为了区分每一条记录的唯一性，必须有一个字段是永远不会重复，并且不会为空的，这个字段我们通常会
将它设置为主键：</p> <ul><li>主键是表中唯一的索引；</li> <li>并且必须是 <strong>NOT NULL</strong> 的，如果没有设置 NOT NULL，那么 MySQL 也会隐式的设置为 NOT NULL；</li> <li>主键也可以是多列索引，PRIMARY KEY( key_part, ...)，我们一般称之为联合主键；</li></ul> <h3 id="唯一-unique"><a href="#唯一-unique" class="header-anchor">#</a> 唯一 UNIQUE</h3> <p>某些字段在开发中我们希望是唯一的，不会重复的，比如手机号码、身份证号码等，这个字段我们可以使用 UNIQUE 来约束 ：</p> <ul><li>使用 UNIQUE 约束的字段在表中必须是不同的；</li> <li>对于所有引擎，UNIQUE 索引允许 NULL 包含的列具有多个值 NULL。</li></ul> <h3 id="不能为空：not-null"><a href="#不能为空：not-null" class="header-anchor">#</a> 不能为空：NOT NULL</h3> <p>某些字段我们要求用户必须插入值，不可以为空，这个时候我们可以使用 NOT NULL 来约束；</p> <h3 id="默认值：default"><a href="#默认值：default" class="header-anchor">#</a> 默认值：DEFAULT</h3> <p>某些字段我们希望在没有设置值时给予一个默认值，这个时候我们可以使用 DEFAULT 来完成；</p> <h3 id="自动递增：auto-increment"><a href="#自动递增：auto-increment" class="header-anchor">#</a> 自动递增：AUTO_INCREMENT</h3> <p>某些字段我们希望不设置值时可以进行递增，比如用户的 id，这个时候可以使用 AUTO_INCREMENT 来完成；</p> <h2 id="sql-语句"><a href="#sql-语句" class="header-anchor">#</a> SQL 语句</h2> <p>我们希望操作数据库（特别是在程序中），就需要有和数据库沟通的语言，这个语言就是 SQL：</p> <ul><li>SQL 是 Structured Query Language，称之为结构化查询语言，简称 SQL；</li> <li>使用 SQL 编写出来的语句，就称之为 SQL 语句；</li> <li>SQL 语句可以用于对数据库进行操作；</li></ul> <h3 id="sql-语句的分类"><a href="#sql-语句的分类" class="header-anchor">#</a> SQL 语句的分类</h3> <ul><li>DDL（Data Definition Language）：数据定义语言；
<ul><li>可以通过 DDL 语句对数据库或者表进行：创建、删除、修改等操作；</li></ul></li> <li>DML（Data Manipulation Language）：数据操作语言；
<ul><li>可以通过 DML 语句对表进行：添加、删除、修改等操作；</li></ul></li> <li>DQL（Data Query Language）：数据查询语言；
<ul><li>可以通过 DQL 从数据库中查询记录；（重点）</li></ul></li> <li>DCL（Data Control Language）：数据控制语言；
<ul><li>对数据库、表格的权限进行相关访问控制操作；</li></ul></li></ul> <h3 id="sql-语句的常用规范"><a href="#sql-语句的常用规范" class="header-anchor">#</a> SQL 语句的常用规范</h3> <ul><li>通常关键字是大写的，比如 CREATE、TABLE、SHOW 等等；</li> <li>一条语句结束后，需要以 ; 结尾；</li> <li>如果遇到关键字作为表明或者字段名称，可以使用``包裹;</li></ul> <h2 id="数据库操作-2"><a href="#数据库操作-2" class="header-anchor">#</a> 数据库操作</h2> <h3 id="创建数据库"><a href="#创建数据库" class="header-anchor">#</a> 创建数据库</h3> <ul><li>直接创建：<code>CREATE DATABASE 数据库名</code></li> <li>如果表不存在时则创建：<code>CREATE DATABASE IF NOT EXISTS 数据库名</code></li></ul> <h3 id="删除数据库"><a href="#删除数据库" class="header-anchor">#</a> 删除数据库</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> 数据库名<span class="token punctuation">;</span>
</code></pre></div><h3 id="修改数据库编码"><a href="#修改数据库编码" class="header-anchor">#</a> 修改数据库编码</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> 数据库名 <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> <span class="token operator">=</span> utf8 <span class="token keyword">COLLATE</span> <span class="token operator">=</span> utf8_unicode_ci
</code></pre></div><h2 id="数据表的操作"><a href="#数据表的操作" class="header-anchor">#</a> 数据表的操作</h2> <h3 id="创建表"><a href="#创建表" class="header-anchor">#</a> 创建表</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">(</span><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> 数据类型<span class="token punctuation">,</span><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span>数据类型<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="删除表"><a href="#删除表" class="header-anchor">#</a> 删除表</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span><span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="修改表"><a href="#修改表" class="header-anchor">#</a> 修改表</h3> <ul><li><p>修改表名</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> <span class="token punctuation">`</span>新表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>添加一个新的列</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">ADD</span> <span class="token punctuation">`</span>列名<span class="token punctuation">`</span> 数据类型<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>修改字段的名称</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> CHANGE <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token punctuation">`</span>新字段名<span class="token punctuation">`</span> 数据类型<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>修改字段类型</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">MODIFY</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> 数据类型<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>删除某一个字段</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">DROP</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="根据一个表结构创建另外一张表"><a href="#根据一个表结构创建另外一张表" class="header-anchor">#</a> 根据一个表结构创建另外一张表</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>新表名<span class="token punctuation">`</span> <span class="token operator">LIKE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="根据一个表中的所有内容，创建另外一张表"><a href="#根据一个表中的所有内容，创建另外一张表" class="header-anchor">#</a> 根据一个表中的所有内容，创建另外一张表</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>新表名<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 表名<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="查看表结构"><a href="#查看表结构" class="header-anchor">#</a> 查看表结构</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DESC</span> 表名<span class="token punctuation">;</span>
</code></pre></div><h3 id="查看创建表的-sql-语句"><a href="#查看创建表的-sql-语句" class="header-anchor">#</a> 查看创建表的 SQL 语句</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="数据库的增删改"><a href="#数据库的增删改" class="header-anchor">#</a> 数据库的增删改</h2> <h3 id="增加数据"><a href="#增加数据" class="header-anchor">#</a> 增加数据</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>值<span class="token punctuation">,</span>值<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>值<span class="token punctuation">,</span>值<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="删除数据"><a href="#删除数据" class="header-anchor">#</a> 删除数据</h3> <ul><li><p>删除所有数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>删除符合条件的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> 字段名 <span class="token operator">=</span> 值<span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="修改数据"><a href="#修改数据" class="header-anchor">#</a> 修改数据</h3> <ul><li><p>更新符合条件的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">SET</span> 字段名 <span class="token operator">=</span> 值<span class="token punctuation">,</span>字段名 <span class="token operator">=</span> 值<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>修改所有数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">SET</span> 字段名 <span class="token operator">=</span> 值<span class="token punctuation">,</span>字段名 <span class="token operator">=</span> 值 <span class="token keyword">WHERE</span> 字段名 <span class="token operator">=</span> 值<span class="token punctuation">;</span>
</code></pre></div></li></ul> <h2 id="查询数据"><a href="#查询数据" class="header-anchor">#</a> 查询数据</h2> <h3 id="基本查询"><a href="#基本查询" class="header-anchor">#</a> 基本查询</h3> <ul><li><p>查询所有数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>查询指定的字段</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段名<span class="token punctuation">,</span>字段名 <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>对字段结果起别名</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段名 别名<span class="token punctuation">,</span>字段名 别名 <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> 字段名 <span class="token keyword">as</span> 别名<span class="token punctuation">,</span>字段名 <span class="token keyword">as</span> 别名 <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="where-查询条件"><a href="#where-查询条件" class="header-anchor">#</a> where 查询条件</h3> <ul><li><p>条件判断</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">&lt;</span> 值<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">=</span> 值<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">!=</span> 值<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>逻辑运算</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 与</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">&gt;</span>值 <span class="token operator">AND</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">&lt;</span>值<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">&gt;</span>值 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">&lt;</span>值<span class="token punctuation">;</span>
<span class="token comment">-- 或</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">&gt;</span>值 <span class="token operator">||</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">=</span> 值<span class="token punctuation">;</span>
<span class="token comment">-- [值1,值2]</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">BETWEEN</span> 值<span class="token number">1</span> <span class="token operator">AND</span> 值<span class="token number">2</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>NULL</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 将某些值设置为NULL</span>
<span class="token keyword">UPDATE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">SET</span> url <span class="token operator">=</span> <span class="token boolean">NULL</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">&gt;=</span> 值 <span class="token operator">AND</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">&lt;=</span>值<span class="token punctuation">;</span>
<span class="token comment">-- 查询某一个值为NULL</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
<span class="token comment">-- 查询某一个值为非NULL</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>模糊查询</p> <p>% 表示匹配任意个的任意字符；
_ 表示匹配一个的任意字符；</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> 字段名 <span class="token operator">LIKE</span> <span class="token string">'%字符%'</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>IN</p> <p>IN 表示取多个值中的其中一个</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> 字段名 <span class="token operator">IN</span> <span class="token punctuation">(</span>值<span class="token punctuation">,</span>值<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="分页查询"><a href="#分页查询" class="header-anchor">#</a> 分页查询</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>LIMIT 内不支持计算符，需要程序去计算</p></div> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>products<span class="token punctuation">`</span> <span class="token keyword">LIMIT</span> 分页大小 <span class="token keyword">OFFSET</span> <span class="token punctuation">(</span>当前页数<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>分页大小<span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 表名 <span class="token keyword">LIMIT</span> <span class="token punctuation">(</span>当前页数<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>分页大小<span class="token punctuation">,</span>分页大小
</code></pre></div><h3 id="聚合函数"><a href="#聚合函数" class="header-anchor">#</a> 聚合函数</h3> <p>聚合函数表示对值集合进行操作的组（集合）函数</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>使用聚合函数前后不能再跟字段名</p></div> <ul><li><p>求和</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>求平均</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">=</span> 值<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>求最大值</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>求最小值</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>计数</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span> <span class="token operator">=</span> 值<span class="token punctuation">;</span>
<span class="token comment">-- 去重复</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> <span class="token punctuation">`</span>字段名<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="group-by"><a href="#group-by" class="header-anchor">#</a> GROUP BY</h3> <p>GROUP BY 通常和聚合函数一起使用，表示我们先对数据进行分组，再对每一组数据，进行聚合函数的计算；</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>除聚合函数外，GROUP BY 前后只能增加<strong>分组字段名</strong></p></div> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 分组字段名<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token punctuation">`</span>分组字段名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>条件约束</li></ul> <p>HAVING 是给 Group By 查询到的结果添加约束</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 分组字段名<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span><span class="token punctuation">)</span> 别名<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token punctuation">`</span>字段名<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token punctuation">`</span>分组字段名<span class="token punctuation">`</span> <span class="token keyword">HAVING</span> 别名 <span class="token operator">&gt;</span> 值<span class="token punctuation">;</span>
</code></pre></div><h3 id="外键"><a href="#外键" class="header-anchor">#</a> 外键</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>使用外键需要父子表都为 InnoDB 引擎，MyISAM 引擎不支持外键</p></div> <ul><li><p>创建表时增加外键</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  字段名 数据类型 <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
  字段名 数据类型<span class="token punctuation">,</span>
  <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>外键字段名<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> <span class="token punctuation">`</span>参考表<span class="token punctuation">`</span><span class="token punctuation">(</span>参考字段<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>已有字段增加外键</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">ADD</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>外键字段名<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> 参考表<span class="token punctuation">(</span>参考字段<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <p><strong>外键 Action：</strong></p> <ul><li>RESTRICT（默认属性）：当更新或删除某个记录时，会检查该记录是否有关联的外键记录，有的话会报错的，不允许更新或删除；</li> <li>NO ACTION：和 RESTRICT 是一致的，是在 SQL 标准中定义的；</li> <li>CASCADE：当更新或删除某个记录时，会检查该记录是否有关联的外键记录，有的话：
<ul><li>更新：那么会更新对应的记录；</li> <li>删除：那么关联的记录会被一起删除掉；</li></ul></li> <li>SET NULL：当更新或删除某个记录时，会检查该记录是否有关联的外键记录，有的话，将对应的值设置为 NULL；</li></ul> <p>修改外键 Action：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查看外键名称</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
<span class="token comment">-- 删除外键</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> 外键名称<span class="token punctuation">;</span>
<span class="token comment">-- 重新增加外键</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span> <span class="token keyword">ADD</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>外键字段名<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> 参考表<span class="token punctuation">(</span>参考字段<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CASCADE</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">RESTRICT</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="多表查询"><a href="#多表查询" class="header-anchor">#</a> 多表查询</h3> <ul><li><p>左连接</p> <p>如果我们希望获取到的是左边所有的数据（以左表为主）。这个时候就表示无论左边的表是否有对应的 右表名.字段名 的值对应右边表的 字段名，左边的数据都会被查询出来；</p> <p><img src="/technicalnotes/assets/img/左连接1.3a2ae993.png" alt="左连接1"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>左表名<span class="token punctuation">`</span> <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>右表名<span class="token punctuation">`</span> <span class="token keyword">ON</span> 左表名<span class="token punctuation">.</span>字段名 <span class="token operator">=</span> 右表名<span class="token punctuation">.</span>右表名<span class="token punctuation">;</span>
</code></pre></div><p><img src="/technicalnotes/assets/img/左连接2.ec44c0c6.png" alt="左连接2"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>左表名<span class="token punctuation">`</span> <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>右表名<span class="token punctuation">`</span> <span class="token keyword">ON</span> 左表名<span class="token punctuation">.</span>字段名 <span class="token operator">=</span> 右表名<span class="token punctuation">.</span>右表名 <span class="token keyword">WHERE</span> 右表名<span class="token punctuation">.</span>字段名 <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>右连接</p> <p><img src="/technicalnotes/assets/img/右连接1.0bd28d9a.png" alt="右连接1"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>右表名<span class="token punctuation">`</span> <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>左表名<span class="token punctuation">`</span> <span class="token keyword">ON</span> 右表名<span class="token punctuation">.</span>字段名 <span class="token operator">=</span> 左表名<span class="token punctuation">.</span>字段名<span class="token punctuation">;</span>
</code></pre></div><p><img src="/technicalnotes/assets/img/右连接2.86912801.png" alt="右连接2"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>右表名<span class="token punctuation">`</span> <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>左表名<span class="token punctuation">`</span> <span class="token keyword">ON</span> 右表名<span class="token punctuation">.</span>字段名 <span class="token operator">=</span> 左表名<span class="token punctuation">.</span>id <span class="token keyword">WHERE</span> 右表名<span class="token punctuation">.</span>字段名 <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>内连接</p> <p>内连接是表示左边的表和右边的表都有对应的数据关联</p> <p><img src="/technicalnotes/assets/img/内连接.ff3166fb.png" alt="内连接"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>左表名<span class="token punctuation">`</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>右表名<span class="token punctuation">`</span> <span class="token keyword">ON</span> 左表名<span class="token punctuation">.</span>字段名 <span class="token operator">=</span> 右表名<span class="token punctuation">.</span>字段名<span class="token punctuation">;</span>
</code></pre></div><p>和的下面写法是一样的效果，但是他们代表的含义并不相同：</p> <ul><li>内连接，代表的是在两张表连接时就会约束数据之间的关系，来决定之后查询的结果；</li> <li>where 条件，代表的是先计算出笛卡尔乘积，在笛卡尔乘积的数据基础之上进行 where 条件的筛选；</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>左表名<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>右表名<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> 左表名<span class="token punctuation">.</span>字段名 <span class="token operator">=</span> 右表名<span class="token punctuation">.</span>字段名<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>全连接</p> <p>SQL 规范中全连接是使用 FULL JOIN，但是 MySQL 中并没有对它的支持，需要使用 UNION 来实现</p> <p><img src="/technicalnotes/assets/img/全连接1.3e7e98ad.png" alt="全连接1"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>左表名<span class="token punctuation">`</span> <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>右表名<span class="token punctuation">`</span> <span class="token keyword">ON</span> 左表名<span class="token punctuation">.</span>字段名 <span class="token operator">=</span> 右表名<span class="token punctuation">.</span>右表名<span class="token punctuation">)</span>
<span class="token keyword">UNION</span>
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>右表名<span class="token punctuation">`</span> <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>左表名<span class="token punctuation">`</span> <span class="token keyword">ON</span> 右表名<span class="token punctuation">.</span>字段名 <span class="token operator">=</span> 左表名<span class="token punctuation">.</span>字段名<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/technicalnotes/assets/img/全连接2.b17977a0.png" alt="全连接2"></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>左表名<span class="token punctuation">`</span> <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>右表名<span class="token punctuation">`</span> <span class="token keyword">ON</span> 左表名<span class="token punctuation">.</span>字段名 <span class="token operator">=</span> 右表名<span class="token punctuation">.</span>右表名 <span class="token keyword">WHERE</span> 右表名<span class="token punctuation">.</span>字段名 <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span>
<span class="token keyword">UNION</span>
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>右表名<span class="token punctuation">`</span> <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>左表名<span class="token punctuation">`</span> <span class="token keyword">ON</span> 右表名<span class="token punctuation">.</span>字段名 <span class="token operator">=</span> 左表名<span class="token punctuation">.</span>id <span class="token keyword">WHERE</span> 右表名<span class="token punctuation">.</span>字段名 <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h2 id="对象和数据类型"><a href="#对象和数据类型" class="header-anchor">#</a> 对象和数据类型</h2> <h3 id="将查询到的数据转成数组"><a href="#将查询到的数据转成数组" class="header-anchor">#</a> 将查询到的数据转成数组</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> JSON_ARRAYAGG<span class="token punctuation">(</span>表名<span class="token punctuation">.</span>字段名<span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="将查询到的数据转成对象"><a href="#将查询到的数据转成对象" class="header-anchor">#</a> 将查询到的数据转成对象</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> JSON_OBJECT<span class="token punctuation">(</span><span class="token string">'键名'</span><span class="token punctuation">,</span>表名<span class="token punctuation">.</span>字段名<span class="token punctuation">,</span><span class="token string">'键名'</span><span class="token punctuation">,</span>表名<span class="token punctuation">.</span>字段名<span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="将联合查询到的数据转成对象"><a href="#将联合查询到的数据转成对象" class="header-anchor">#</a> 将联合查询到的数据转成对象</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	左表名<span class="token punctuation">.</span>字段名 别名<span class="token punctuation">,</span> 左表名<span class="token punctuation">.</span>字段名 别名<span class="token punctuation">,</span>
	JSON_OBJECT<span class="token punctuation">(</span><span class="token string">'别名'</span><span class="token punctuation">,</span> 右表名<span class="token punctuation">.</span>字段名<span class="token punctuation">,</span> <span class="token string">'别名'</span><span class="token punctuation">,</span> 右表名<span class="token punctuation">.</span>字段名<span class="token punctuation">)</span> 别名
<span class="token keyword">FROM</span> <span class="token punctuation">`</span>左表名<span class="token punctuation">`</span>
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>右表名<span class="token punctuation">`</span> <span class="token keyword">ON</span> 左表名<span class="token punctuation">.</span>字段名 <span class="token operator">=</span> 右表名<span class="token punctuation">.</span>右表名<span class="token punctuation">;</span>
</code></pre></div><h3 id="将查询到的多条数据，组织成对象，放入到一个数组中-多对多"><a href="#将查询到的多条数据，组织成对象，放入到一个数组中-多对多" class="header-anchor">#</a> 将查询到的多条数据，组织成对象，放入到一个数组中(多对多)</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	stu<span class="token punctuation">.</span>id<span class="token punctuation">,</span> stu<span class="token punctuation">.</span>name<span class="token punctuation">,</span> stu<span class="token punctuation">.</span>age<span class="token punctuation">,</span>
	JSON_ARRAYAGG<span class="token punctuation">(</span>JSON_OBJECT<span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> cs<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> cs<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">'price'</span><span class="token punctuation">,</span> cs<span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> <span class="token punctuation">`</span>students<span class="token punctuation">`</span> stu
<span class="token keyword">JOIN</span> <span class="token punctuation">`</span>students_select_courses<span class="token punctuation">`</span> ssc <span class="token keyword">ON</span> stu<span class="token punctuation">.</span>id <span class="token operator">=</span> ssc<span class="token punctuation">.</span>student_id
<span class="token keyword">JOIN</span> <span class="token punctuation">`</span>courses<span class="token punctuation">`</span> cs <span class="token keyword">ON</span> ssc<span class="token punctuation">.</span>course_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>id
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> stu<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">2020/12/1 下午5:47:37</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/technicalnotes/back-end/DataBase/MySQL/_README.html">
        SQL 笔记
      </a>
      →
    </span></p></div> </main></div> <div class="footer" data-v-35b17a59><div id="footer-info" data-v-35b17a59><div class="footer-left" data-v-35b17a59>
      © 2020-2021
      <!----></div> <div class="footer-right" data-v-35b17a59>Theme:<a href="https://github.com/JoeyBling/vuepress-theme-yilia-plus" target="_blank">vuepress-theme-yilia-plus</a> by Litten</div></div> <div class="busuanzi" data-v-35b17a59><span id="busuanzi_container_site_pv" style="display:none">
    本站总访问量
    <span id="busuanzi_value_site_pv"></span>次
    <span class="post-meta-divider">|</span></span> <span id="busuanzi_container_site_uv" style="display:none">
    本站访客数
    <span id="busuanzi_value_site_uv"></span>人
  </span></div></div></main><div class="global-ui"><!----><!----></div></div>
    <script src="/technicalnotes/assets/js/app.45c53b6a.js" defer></script><script src="/technicalnotes/assets/js/2.f6e0044f.js" defer></script><script src="/technicalnotes/assets/js/4.09c72c63.js" defer></script><script src="/technicalnotes/assets/js/9.22f6ea90.js" defer></script>
  </body>
</html>
