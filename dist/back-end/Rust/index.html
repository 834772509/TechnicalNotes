<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Rust 基础 | 杉-技术笔记</title>
    <meta name="description" content="记录工作和学习过程中的笔记">
    <meta name="generator" content="VuePress 1.3.0">
    <link rel="icon" href="/technicalnotes/img/LOGO.ico">
    
    <link rel="preload" href="/technicalnotes/assets/css/0.styles.51d4a2b0.css" as="style"><link rel="preload" href="/technicalnotes/assets/js/app.77629287.js" as="script"><link rel="preload" href="/technicalnotes/assets/js/2.429e91cc.js" as="script"><link rel="preload" href="/technicalnotes/assets/js/49.c3856fea.js" as="script"><link rel="prefetch" href="/technicalnotes/assets/js/10.7ba6dcd9.js"><link rel="prefetch" href="/technicalnotes/assets/js/11.32c2f22d.js"><link rel="prefetch" href="/technicalnotes/assets/js/12.7d6faa1f.js"><link rel="prefetch" href="/technicalnotes/assets/js/13.246f1b56.js"><link rel="prefetch" href="/technicalnotes/assets/js/14.06d3c769.js"><link rel="prefetch" href="/technicalnotes/assets/js/15.7b9e843c.js"><link rel="prefetch" href="/technicalnotes/assets/js/16.a90e158f.js"><link rel="prefetch" href="/technicalnotes/assets/js/17.3e12e714.js"><link rel="prefetch" href="/technicalnotes/assets/js/18.fdf8750f.js"><link rel="prefetch" href="/technicalnotes/assets/js/19.c5730057.js"><link rel="prefetch" href="/technicalnotes/assets/js/20.440df4ab.js"><link rel="prefetch" href="/technicalnotes/assets/js/21.3b152c66.js"><link rel="prefetch" href="/technicalnotes/assets/js/22.45e88379.js"><link rel="prefetch" href="/technicalnotes/assets/js/23.bf932299.js"><link rel="prefetch" href="/technicalnotes/assets/js/24.da3ffeb3.js"><link rel="prefetch" href="/technicalnotes/assets/js/25.f348f9be.js"><link rel="prefetch" href="/technicalnotes/assets/js/26.335744ad.js"><link rel="prefetch" href="/technicalnotes/assets/js/27.9d5d9785.js"><link rel="prefetch" href="/technicalnotes/assets/js/28.c1c6a2be.js"><link rel="prefetch" href="/technicalnotes/assets/js/29.00139e26.js"><link rel="prefetch" href="/technicalnotes/assets/js/3.9253667f.js"><link rel="prefetch" href="/technicalnotes/assets/js/30.64f193aa.js"><link rel="prefetch" href="/technicalnotes/assets/js/31.41feed9a.js"><link rel="prefetch" href="/technicalnotes/assets/js/32.828dae03.js"><link rel="prefetch" href="/technicalnotes/assets/js/33.1ef295b7.js"><link rel="prefetch" href="/technicalnotes/assets/js/34.ad2ee0c5.js"><link rel="prefetch" href="/technicalnotes/assets/js/35.76a6956f.js"><link rel="prefetch" href="/technicalnotes/assets/js/36.47b5f948.js"><link rel="prefetch" href="/technicalnotes/assets/js/37.c3bcfc8a.js"><link rel="prefetch" href="/technicalnotes/assets/js/38.25c7496e.js"><link rel="prefetch" href="/technicalnotes/assets/js/39.3840dd7f.js"><link rel="prefetch" href="/technicalnotes/assets/js/4.a5e33cf4.js"><link rel="prefetch" href="/technicalnotes/assets/js/40.f781f1ca.js"><link rel="prefetch" href="/technicalnotes/assets/js/41.d98d2f78.js"><link rel="prefetch" href="/technicalnotes/assets/js/42.a61b9342.js"><link rel="prefetch" href="/technicalnotes/assets/js/43.36889b7b.js"><link rel="prefetch" href="/technicalnotes/assets/js/44.45a33473.js"><link rel="prefetch" href="/technicalnotes/assets/js/45.4d9b1e67.js"><link rel="prefetch" href="/technicalnotes/assets/js/46.f1fd9ee2.js"><link rel="prefetch" href="/technicalnotes/assets/js/47.01fde0e4.js"><link rel="prefetch" href="/technicalnotes/assets/js/48.0f6b3b20.js"><link rel="prefetch" href="/technicalnotes/assets/js/5.f2584eed.js"><link rel="prefetch" href="/technicalnotes/assets/js/50.2c607376.js"><link rel="prefetch" href="/technicalnotes/assets/js/51.996a0a06.js"><link rel="prefetch" href="/technicalnotes/assets/js/52.db48d9bc.js"><link rel="prefetch" href="/technicalnotes/assets/js/53.b6d0e8fb.js"><link rel="prefetch" href="/technicalnotes/assets/js/54.7b6f3ab8.js"><link rel="prefetch" href="/technicalnotes/assets/js/55.a5714815.js"><link rel="prefetch" href="/technicalnotes/assets/js/56.ad0a21d8.js"><link rel="prefetch" href="/technicalnotes/assets/js/57.f71ad435.js"><link rel="prefetch" href="/technicalnotes/assets/js/58.e182aeda.js"><link rel="prefetch" href="/technicalnotes/assets/js/59.396e15b7.js"><link rel="prefetch" href="/technicalnotes/assets/js/6.745b5170.js"><link rel="prefetch" href="/technicalnotes/assets/js/60.d889062e.js"><link rel="prefetch" href="/technicalnotes/assets/js/61.87589a67.js"><link rel="prefetch" href="/technicalnotes/assets/js/62.1a03728e.js"><link rel="prefetch" href="/technicalnotes/assets/js/63.eacac5d8.js"><link rel="prefetch" href="/technicalnotes/assets/js/64.2758c405.js"><link rel="prefetch" href="/technicalnotes/assets/js/65.38c73d74.js"><link rel="prefetch" href="/technicalnotes/assets/js/66.6f547987.js"><link rel="prefetch" href="/technicalnotes/assets/js/67.2b67b6be.js"><link rel="prefetch" href="/technicalnotes/assets/js/68.7b542b6f.js"><link rel="prefetch" href="/technicalnotes/assets/js/69.eee346b7.js"><link rel="prefetch" href="/technicalnotes/assets/js/7.0d58e9ca.js"><link rel="prefetch" href="/technicalnotes/assets/js/70.752687a3.js"><link rel="prefetch" href="/technicalnotes/assets/js/71.a2f0e7e0.js"><link rel="prefetch" href="/technicalnotes/assets/js/72.79fe2fbe.js"><link rel="prefetch" href="/technicalnotes/assets/js/73.719aea6a.js"><link rel="prefetch" href="/technicalnotes/assets/js/74.56866c38.js"><link rel="prefetch" href="/technicalnotes/assets/js/75.b8c34500.js"><link rel="prefetch" href="/technicalnotes/assets/js/76.fcdad3e5.js"><link rel="prefetch" href="/technicalnotes/assets/js/77.43e5f5c9.js"><link rel="prefetch" href="/technicalnotes/assets/js/78.01ee1958.js"><link rel="prefetch" href="/technicalnotes/assets/js/79.41e2e51b.js"><link rel="prefetch" href="/technicalnotes/assets/js/8.442baa33.js"><link rel="prefetch" href="/technicalnotes/assets/js/80.437981e9.js"><link rel="prefetch" href="/technicalnotes/assets/js/81.bb030f8c.js"><link rel="prefetch" href="/technicalnotes/assets/js/82.89708154.js"><link rel="prefetch" href="/technicalnotes/assets/js/83.6a301d81.js"><link rel="prefetch" href="/technicalnotes/assets/js/84.32adc663.js"><link rel="prefetch" href="/technicalnotes/assets/js/85.88534679.js"><link rel="prefetch" href="/technicalnotes/assets/js/86.a4039a78.js"><link rel="prefetch" href="/technicalnotes/assets/js/87.3dfc5a41.js"><link rel="prefetch" href="/technicalnotes/assets/js/88.2f604998.js"><link rel="prefetch" href="/technicalnotes/assets/js/89.c457493a.js"><link rel="prefetch" href="/technicalnotes/assets/js/9.a63c3a56.js"><link rel="prefetch" href="/technicalnotes/assets/js/90.e09fbe66.js"><link rel="prefetch" href="/technicalnotes/assets/js/91.911edaca.js">
    <link rel="stylesheet" href="/technicalnotes/assets/css/0.styles.51d4a2b0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><main><main slot="sidebar-top"><!----></main> <div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/technicalnotes/" class="home-link router-link-active"><!----> <span class="site-name">杉-技术笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/technicalnotes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Web 开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/CSS3/" class="nav-link">
  CSS3
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/JavaScript/" class="nav-link">
  JavaScript
</a></li></ul></li><li class="dropdown-item"><h4>
          前端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/React/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Electron/" class="nav-link">
  Electron
</a></li></ul></li><li class="dropdown-item"><h4>
          移动端开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Andorid/" class="nav-link">
  Andorid
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Flutter/" class="nav-link">
  Flutter
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Rust
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Rust/" class="nav-link router-link-exact-active router-link-active">
  Rust 基础
</a></li></ul></li><li class="dropdown-item"><h4>
          Java
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/" class="nav-link">
  Java 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JavaWeb/" class="nav-link">
  JavaWeb
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringMVC/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringBoot/" class="nav-link">
  SpringBoot
</a></li></ul></li><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/" class="nav-link">
  Python 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/Django/" class="nav-link">
  Django
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/Flask/" class="nav-link">
  Flask
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/MySQL/" class="nav-link">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/Oracle/" class="nav-link">
  Oracle
</a></li></ul></li><li class="dropdown-item"><h4>
          PHP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/" class="nav-link">
  PHP 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/ThinkPHP/" class="nav-link">
  ThinkPHP
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Photoshop/" class="nav-link">
  Photoshop
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/WinPE/" class="nav-link">
  WinPE
</a></li></ul></div></div><div class="nav-item"><a href="https://firpe.cn/about" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://firpe.cn/donate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投食 
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/technicalnotes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Web 开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/CSS3/" class="nav-link">
  CSS3
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/JavaScript/" class="nav-link">
  JavaScript
</a></li></ul></li><li class="dropdown-item"><h4>
          前端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/React/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Electron/" class="nav-link">
  Electron
</a></li></ul></li><li class="dropdown-item"><h4>
          移动端开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Andorid/" class="nav-link">
  Andorid
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Flutter/" class="nav-link">
  Flutter
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Rust
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Rust/" class="nav-link router-link-exact-active router-link-active">
  Rust 基础
</a></li></ul></li><li class="dropdown-item"><h4>
          Java
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/" class="nav-link">
  Java 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JavaWeb/" class="nav-link">
  JavaWeb
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringMVC/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringBoot/" class="nav-link">
  SpringBoot
</a></li></ul></li><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/" class="nav-link">
  Python 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/Django/" class="nav-link">
  Django
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/Flask/" class="nav-link">
  Flask
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/MySQL/" class="nav-link">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/Oracle/" class="nav-link">
  Oracle
</a></li></ul></li><li class="dropdown-item"><h4>
          PHP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/" class="nav-link">
  PHP 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/ThinkPHP/" class="nav-link">
  ThinkPHP
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Photoshop/" class="nav-link">
  Photoshop
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/WinPE/" class="nav-link">
  WinPE
</a></li></ul></div></div><div class="nav-item"><a href="https://firpe.cn/about" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://firpe.cn/donate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投食 
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Rust</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/technicalnotes/back-end/Rust/" class="active sidebar-link">Rust 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#环境搭建" class="sidebar-link">环境搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#安装-microsoft-c-生成工具" class="sidebar-link">安装 Microsoft C++ 生成工具</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#安装-rust" class="sidebar-link">安装 Rust</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#集成开发环境插件" class="sidebar-link">集成开发环境插件</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#创建项目" class="sidebar-link">创建项目</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#基本语法" class="sidebar-link">基本语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#定义变量" class="sidebar-link">定义变量</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#定义常量" class="sidebar-link">定义常量</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#打印输出" class="sidebar-link">打印输出</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#控制流" class="sidebar-link">控制流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#if-else" class="sidebar-link">if-else</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#loop-循环" class="sidebar-link">loop 循环</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#while-循环" class="sidebar-link">while 循环</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#for-循环" class="sidebar-link">for 循环</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#函数" class="sidebar-link">函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#定义" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#传参" class="sidebar-link">传参</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#函数体" class="sidebar-link">函数体</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#字符串" class="sidebar-link">字符串</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#定义-2" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#字符串切片" class="sidebar-link">字符串切片</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#获取字符串长度" class="sidebar-link">获取字符串长度</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#数组" class="sidebar-link">数组</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#元组" class="sidebar-link">元组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#定义-3" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#访问" class="sidebar-link">访问</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#元组的拆解" class="sidebar-link">元组的拆解</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#结构体" class="sidebar-link">结构体</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#定义-4" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#实例化" class="sidebar-link">实例化</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#元组结构体" class="sidebar-link">元组结构体</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#打印结构体" class="sidebar-link">打印结构体</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#所有权" class="sidebar-link">所有权</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#什么是所有权？" class="sidebar-link">什么是所有权？</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/back-end/Rust/#引用" class="sidebar-link">引用</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="rust-基础"><a href="#rust-基础" class="header-anchor">#</a> Rust 基础</h1> <p><a href="https://kaisery.github.io/trpl-zh-cn/" target="_blank" rel="noopener noreferrer">Rust 程序设计语言 简体中文版<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="环境搭建"><a href="#环境搭建" class="header-anchor">#</a> 环境搭建</h2> <h3 id="安装-microsoft-c-生成工具"><a href="#安装-microsoft-c-生成工具" class="header-anchor">#</a> 安装 Microsoft C++ 生成工具</h3> <p>(VisualCppBuildTools[https://download.microsoft.com/download/5/f/7/5f7acaeb-8363-451f-9425-68a90f98b238/visualcppbuildtools_full.exe]</p> <h3 id="安装-rust"><a href="#安装-rust" class="header-anchor">#</a> 安装 Rust</h3> <p><a href="https://www.rust-lang.org/zh-CN/tools/install" target="_blank" rel="noopener noreferrer">安装 Rsut<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>打开 PowerShell，依次输入：</p> <p>$ENV:RUSTUP_DIST_SERVER='https://mirrors.ustc.edu.cn/rust-static'
$ENV:RUSTUP_UPDATE_ROOT='https://mirrors.ustc.edu.cn/rust-static/rustup'
rustup-init.exe</p> <h3 id="集成开发环境插件"><a href="#集成开发环境插件" class="header-anchor">#</a> 集成开发环境插件</h3> <ul><li>IDEA: <code>Rust</code></li> <li>Visual Studio Code: <code>Rust (rls)</code>
安装完成后需要在 Visual Studio Code 中设置  rust-client.channel  为  stable。 同时建议设置  editor.formatOnSave  为  true，以便在保存时使用 rust-fmt 格式化代码</li></ul> <h2 id="创建项目"><a href="#创建项目" class="header-anchor">#</a> 创建项目</h2> <ul><li>创建项目: <code>cargo new 项目名</code></li> <li>语法检查: <code>cargo check</code></li> <li>编译项目: <code>cargo build</code></li></ul> <h2 id="基本语法"><a href="#基本语法" class="header-anchor">#</a> 基本语法</h2> <h3 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h3> <ul><li>字符型（32 位）: char</li> <li>字符串: String</li> <li>布尔型 : bool</li> <li>数字型
<ul><li>有符号
i8 : 8 位
i16 : 16 位
i32 : 32 位
i64 : 64 位</li> <li>无符号
u8 : 8 位
u16 : 16 位
u32 : 32 位
u64 : 64 位</li> <li>浮点型
f32 : 32 位
f64 : 64 位</li></ul></li> <li>自适应类型(长度随着平台的不同而不同)
<ul><li>有符号: isize</li> <li>无符号: usize</li></ul></li></ul> <h3 id="定义变量"><a href="#定义变量" class="header-anchor">#</a> 定义变量</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>如果变量没有<code>mut</code>关键字，则数据不可变</p></div> <p>Rust 具有隐藏性。即变量可定义多次，以最后定义的变量为准。</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token comment">// 自动推导类型</span>
<span class="token keyword">let</span> <span class="token keyword">mut</span> 变量名<span class="token punctuation">;</span>

<span class="token comment">// 指定数据类型</span>
<span class="token keyword">let</span> <span class="token keyword">mut</span> 变量名<span class="token punctuation">:</span> 数据类型<span class="token punctuation">;</span>
</code></pre></div><h3 id="定义常量"><a href="#定义常量" class="header-anchor">#</a> 定义常量</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token comment">// 自动推导类型</span>
<span class="token keyword">const</span> 变量名 <span class="token operator">=</span> 值<span class="token punctuation">;</span>

<span class="token comment">// 指定数据类型</span>
<span class="token keyword">const</span> 变量名<span class="token punctuation">:</span> 数据类型 <span class="token operator">=</span> 值<span class="token punctuation">;</span>
</code></pre></div><h3 id="打印输出"><a href="#打印输出" class="header-anchor">#</a> 打印输出</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token comment">// 纯内容</span>
<span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;内容&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 变量</span>
<span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;变量: {}&quot;</span><span class="token punctuation">,</span> 变量<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="控制流"><a href="#控制流" class="header-anchor">#</a> 控制流</h2> <h3 id="if-else"><a href="#if-else" class="header-anchor">#</a> if-else</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>if 语句后面可以不接小括号</p></div> <ul><li>普通使用</li></ul> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">if</span> 条件 <span class="token punctuation">{</span>

<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> 条件 <span class="token punctuation">{</span>

<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><ul><li>结合 let</li></ul> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> <span class="token keyword">mut</span> 变量名 <span class="token operator">=</span> <span class="token keyword">if</span> 条件 <span class="token punctuation">{</span>
  返回值
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  返回值
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="loop-循环"><a href="#loop-循环" class="header-anchor">#</a> loop 循环</h3> <ul><li>普通使用</li></ul> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">loop</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> 条件 <span class="token punctuation">{</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>结合 let</li></ul> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> <span class="token keyword">mut</span> 变量名 <span class="token operator">=</span> <span class="token keyword">loop</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> 条件 <span class="token punctuation">{</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="while-循环"><a href="#while-循环" class="header-anchor">#</a> while 循环</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">while</span> 条件 <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="for-循环"><a href="#for-循环" class="header-anchor">#</a> for 循环</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> <span class="token keyword">mut</span> 数组 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> <span class="token operator">&amp;</span>数组 <span class="token punctuation">{</span>
    <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;{}&quot;</span><span class="token punctuation">,</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h2> <h3 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">fn</span> 函数名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> 返回值类型 <span class="token punctuation">{</span>
  <span class="token keyword">return</span> 返回值<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 返回表达式</span>
<span class="token keyword">fn</span> 函数名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> 返回值类型 <span class="token punctuation">{</span>
  返回值
<span class="token punctuation">}</span>
</code></pre></div><h3 id="传参"><a href="#传参" class="header-anchor">#</a> 传参</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ul><li>Rust 中，<strong>必须</strong>声明每个参数的类型</li> <li><code>&amp;</code>表示指向值的引用（没有这个值的所有权）</li></ul></div> <ul><li><p>声明</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">fn</span> 函数名<span class="token punctuation">(</span>参数名<span class="token punctuation">:</span> <span class="token operator">&amp;</span>参数类型<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;参数名={}&quot;</span><span class="token punctuation">,</span> 参数名<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> 函数名<span class="token punctuation">(</span>参数名<span class="token punctuation">:</span> <span class="token operator">&amp;</span>参数类型<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> 返回值类型 <span class="token punctuation">{</span>
  <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;参数名={}&quot;</span><span class="token punctuation">,</span> 参数名<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> 返回值<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>使用</p> <div class="language-rust extra-class"><pre class="language-rust"><code>函数名<span class="token punctuation">(</span><span class="token operator">&amp;</span>参数<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token keyword">mut</span> 变量名 <span class="token operator">=</span> 函数名<span class="token punctuation">(</span><span class="token operator">&amp;</span>参数<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="函数体"><a href="#函数体" class="header-anchor">#</a> 函数体</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>函数体只能使用返回表达式，不可使用<code>return</code>关键字</p></div> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> 变量名 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  x <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h2> <h3 id="定义-2"><a href="#定义-2" class="header-anchor">#</a> 定义</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> <span class="token keyword">mut</span> 变量名 <span class="token operator">=</span> String<span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;内容&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="字符串切片"><a href="#字符串切片" class="header-anchor">#</a> 字符串切片</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> <span class="token keyword">mut</span> s <span class="token operator">=</span> String<span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Hello={}&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">..</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Hell={}&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>s<span class="token punctuation">[</span><span class="token punctuation">..</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="获取字符串长度"><a href="#获取字符串长度" class="header-anchor">#</a> 获取字符串长度</h3> <div class="language-rust extra-class"><pre class="language-rust"><code>变量名<span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h2> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token comment">// 自动推导</span>
<span class="token keyword">let</span> <span class="token keyword">mut</span> 数组名 <span class="token operator">=</span> <span class="token punctuation">[</span>值<span class="token punctuation">,</span> 值<span class="token punctuation">,</span> 值 <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 指定数据类型</span>
<span class="token keyword">let</span> <span class="token keyword">mut</span> 数组名<span class="token punctuation">:</span> <span class="token punctuation">[</span>数据类型<span class="token punctuation">;</span> 个数<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>值<span class="token punctuation">,</span> 值<span class="token punctuation">,</span> 值 <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="元组"><a href="#元组" class="header-anchor">#</a> 元组</h2> <h3 id="定义-3"><a href="#定义-3" class="header-anchor">#</a> 定义</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token comment">// 自动推导</span>
<span class="token keyword">let</span> <span class="token keyword">mut</span> 元组名 <span class="token operator">=</span> <span class="token punctuation">(</span>值<span class="token punctuation">,</span> 值<span class="token punctuation">,</span> 值<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 指定数据类型</span>
<span class="token keyword">let</span> <span class="token keyword">mut</span> 元组名<span class="token punctuation">:</span> <span class="token punctuation">(</span>数据类型<span class="token punctuation">,</span> 数据类型<span class="token punctuation">,</span> 数据类型<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>值<span class="token punctuation">,</span> 值<span class="token punctuation">,</span> 值<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="访问"><a href="#访问" class="header-anchor">#</a> 访问</h3> <div class="language-rust extra-class"><pre class="language-rust"><code>元组名<span class="token punctuation">.</span>下标
</code></pre></div><h3 id="元组的拆解"><a href="#元组的拆解" class="header-anchor">#</a> 元组的拆解</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> <span class="token keyword">mut</span> 元组名 <span class="token operator">=</span> <span class="token punctuation">(</span>值<span class="token punctuation">,</span> 值<span class="token punctuation">,</span> 值<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span> <span class="token operator">=</span> 元组名<span class="token punctuation">;</span>
<span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;x={}&quot;</span><span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;y={}&quot;</span><span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;z={}&quot;</span><span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="结构体"><a href="#结构体" class="header-anchor">#</a> 结构体</h2> <h3 id="定义-4"><a href="#定义-4" class="header-anchor">#</a> 定义</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">struct</span> 结构体名 <span class="token punctuation">{</span>
  字段名<span class="token punctuation">:</span> 数据类型<span class="token punctuation">,</span>
  字段名<span class="token punctuation">:</span> 数据类型<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="实例化"><a href="#实例化" class="header-anchor">#</a> 实例化</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>参数名和字段名同名时，可省略字段名直接写参数名</p></div> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token comment">// 实例化</span>
<span class="token keyword">let</span> <span class="token keyword">mut</span>  实例名 <span class="token operator">=</span> 结构体名 <span class="token punctuation">{</span>
  字段名<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
  字段名<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 修改数据</span>
实例名<span class="token punctuation">.</span>字段名 <span class="token operator">=</span> 值<span class="token punctuation">;</span>
</code></pre></div><h3 id="元组结构体"><a href="#元组结构体" class="header-anchor">#</a> 元组结构体</h3> <ul><li>定义</li></ul> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">struct</span> 元组结构体名<span class="token punctuation">(</span>数据类型<span class="token punctuation">,</span> 数据类型<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>使用</li></ul> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> <span class="token keyword">mut</span>  实例名 <span class="token operator">=</span> 元组结构体名<span class="token punctuation">(</span>值<span class="token punctuation">,</span> 值<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;实例名.0={}, 实例名.1={}&quot;</span><span class="token punctuation">,</span> 实例名<span class="token punctuation">.</span><span class="token number">0</span><span class="token punctuation">,</span> 实例名<span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="打印结构体"><a href="#打印结构体" class="header-anchor">#</a> 打印结构体</h3> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token attribute attr-name">#[derive(Debug)]</span>

<span class="token keyword">struct</span> 结构体名 <span class="token punctuation">{</span>
  字段名<span class="token punctuation">:</span> 数据类型<span class="token punctuation">,</span>
  字段名<span class="token punctuation">:</span> 数据类型<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token keyword">mut</span>  实例名 <span class="token operator">=</span> 结构体名 <span class="token punctuation">{</span>
  字段名<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
  字段名<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 整行打印</span>
<span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;实例名={:?}&quot;</span><span class="token punctuation">,</span>实例名<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 换行打印</span>
<span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;实例名={:#?}&quot;</span><span class="token punctuation">,</span>实例名<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="所有权"><a href="#所有权" class="header-anchor">#</a> 所有权</h2> <h3 id="什么是所有权？"><a href="#什么是所有权？" class="header-anchor">#</a> 什么是所有权？</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>当一个变量被当作参数传递后，此变量则无法继续使用</p></div> <p>所有运行的程序都必须管理其使用计算机内存的方式。一些语言中具有垃圾回收机制，在程序运行时不断地寻找不再使用的内存；在另一些语言中，程序员必须亲自分配和释放内存。Rust 则选择了第三种方式：通过所有权系统管理内存，编译器在编译时会根据一系列的规则进行检查。在运行时，所有权系统的任何功能都不会减慢程序。</p> <ul><li><p>所有权规则</p> <ol><li>Rust 中的每一个值都有一个被称为其 所有者（owner）的变量。</li> <li>值在任一时刻有且只有一个所有者。</li> <li>当所有者（变量）离开作用域，这个值将被丢弃。</li></ol></li> <li><p>所有权与函数</p></li></ul> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token function">gives_ownership</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// gives_ownership 将返回值移给 s1</span>

  <span class="token comment">// s2 进入作用域</span>
  <span class="token keyword">let</span> s2 <span class="token operator">=</span> String<span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> s3 <span class="token operator">=</span> <span class="token function">takes_and_gives_back</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// s2 被移动到takes_and_gives_back 中,它也将返回值移给 s3</span>
<span class="token punctuation">}</span>
<span class="token comment">// 这里, s3 移出作用域并被丢弃。s2 也移出作用域，但已被移走，</span>
<span class="token comment">// 所以什么也不会发生。s1 移出作用域并被丢弃</span>

<span class="token comment">// gives_ownership 将返回值移动给调用它的函数</span>
<span class="token keyword">fn</span> <span class="token function">gives_ownership</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> String <span class="token punctuation">{</span>


  <span class="token comment">// some_string 进入作用域</span>
  <span class="token keyword">let</span> some_string <span class="token operator">=</span> String<span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 返回 some_string 并移出给调用的函数</span>
  some_string
<span class="token punctuation">}</span>

<span class="token comment">// takes_and_gives_back 将传入字符串并返回该值</span>
<span class="token keyword">fn</span> <span class="token function">takes_and_gives_back</span><span class="token punctuation">(</span>a_string<span class="token punctuation">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> String <span class="token punctuation">{</span>
  <span class="token comment">// a_string 进入作用域</span>
  a_string  <span class="token comment">// 返回 a_string 并移出给调用的函数</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="引用"><a href="#引用" class="header-anchor">#</a> 引用</h3> <p><code>&amp;</code>表示指向值的引用（没有这个值的所有权），因此，当引用离开其值指向的作用域后会被丢弃</p> <ul><li>引用的基本使用</li></ul> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token keyword">mut</span> s1 <span class="token operator">=</span> String<span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token keyword">mut</span> len <span class="token operator">=</span> <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">println!</span><span class="token punctuation">(</span><span class="token string">&quot;字符串={}, 长度={}&quot;</span><span class="token punctuation">,</span> s1<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">fn</span> <span class="token function">getLength</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token operator">&amp;</span>String<span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> usize <span class="token punctuation">{</span>
      <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>可变引用
当需要改变参数时，需要使用可变引用。<br>
注意：在特定作用域中的特定数据只能有一个可变引用</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token keyword">mut</span> s <span class="token operator">=</span> String<span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">change</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function">change</span><span class="token punctuation">(</span>some_string<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  some_string<span class="token punctuation">.</span><span class="token function">push_str</span><span class="token punctuation">(</span><span class="token string">&quot;, world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">2020-8-24 22:02:00</span></div></footer> <!----> </main></div> <div class="footer" data-v-43135a0a><div id="footer-info" data-v-43135a0a><div class="footer-left" data-v-43135a0a><!----></div> <!----></div> <div class="busuanzi" data-v-43135a0a><span id="busuanzi_container_site_pv" style="display:none">
    本站总访问量
    <span id="busuanzi_value_site_pv"></span>次
    <span class="post-meta-divider">|</span></span> <span id="busuanzi_container_site_uv" style="display:none">
    本站访客数
    <span id="busuanzi_value_site_uv"></span>人
  </span></div></div></main><div class="global-ui"><!----></div></div>
    <script src="/technicalnotes/assets/js/app.77629287.js" defer></script><script src="/technicalnotes/assets/js/2.429e91cc.js" defer></script><script src="/technicalnotes/assets/js/49.c3856fea.js" defer></script>
  </body>
</html>
