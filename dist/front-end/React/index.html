<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React 基础 | 杉-技术笔记</title>
    <meta name="description" content="记录工作和学习过程中的笔记">
    <link rel="icon" href="/technicalnotes/img/LOGO.ico">
    
    <link rel="preload" href="/technicalnotes/assets/css/0.styles.d0ef81bb.css" as="style"><link rel="preload" href="/technicalnotes/assets/js/app.66ddaadd.js" as="script"><link rel="preload" href="/technicalnotes/assets/js/2.d8b28be4.js" as="script"><link rel="preload" href="/technicalnotes/assets/js/8.7a7d242a.js" as="script"><link rel="prefetch" href="/technicalnotes/assets/js/10.56a35850.js"><link rel="prefetch" href="/technicalnotes/assets/js/100.af2ee8d5.js"><link rel="prefetch" href="/technicalnotes/assets/js/101.db851569.js"><link rel="prefetch" href="/technicalnotes/assets/js/11.69239658.js"><link rel="prefetch" href="/technicalnotes/assets/js/12.85505243.js"><link rel="prefetch" href="/technicalnotes/assets/js/13.7bb058b3.js"><link rel="prefetch" href="/technicalnotes/assets/js/14.53afd2ad.js"><link rel="prefetch" href="/technicalnotes/assets/js/15.8f79a08a.js"><link rel="prefetch" href="/technicalnotes/assets/js/16.6239c152.js"><link rel="prefetch" href="/technicalnotes/assets/js/17.1a50147b.js"><link rel="prefetch" href="/technicalnotes/assets/js/18.a665a651.js"><link rel="prefetch" href="/technicalnotes/assets/js/19.10a76465.js"><link rel="prefetch" href="/technicalnotes/assets/js/20.d1f4b643.js"><link rel="prefetch" href="/technicalnotes/assets/js/21.7f294b14.js"><link rel="prefetch" href="/technicalnotes/assets/js/22.5ffb4ec7.js"><link rel="prefetch" href="/technicalnotes/assets/js/23.a2ae7326.js"><link rel="prefetch" href="/technicalnotes/assets/js/24.13dd3577.js"><link rel="prefetch" href="/technicalnotes/assets/js/25.7dea48d8.js"><link rel="prefetch" href="/technicalnotes/assets/js/26.742a5706.js"><link rel="prefetch" href="/technicalnotes/assets/js/27.9e7d9053.js"><link rel="prefetch" href="/technicalnotes/assets/js/28.22d9d928.js"><link rel="prefetch" href="/technicalnotes/assets/js/29.db938924.js"><link rel="prefetch" href="/technicalnotes/assets/js/3.4c3c72c6.js"><link rel="prefetch" href="/technicalnotes/assets/js/30.a2542311.js"><link rel="prefetch" href="/technicalnotes/assets/js/31.3444c4cc.js"><link rel="prefetch" href="/technicalnotes/assets/js/32.0ac9ef9a.js"><link rel="prefetch" href="/technicalnotes/assets/js/33.ab0f3c7e.js"><link rel="prefetch" href="/technicalnotes/assets/js/34.1cb493b9.js"><link rel="prefetch" href="/technicalnotes/assets/js/35.6e935ce3.js"><link rel="prefetch" href="/technicalnotes/assets/js/36.39072887.js"><link rel="prefetch" href="/technicalnotes/assets/js/37.ca47d942.js"><link rel="prefetch" href="/technicalnotes/assets/js/38.63122156.js"><link rel="prefetch" href="/technicalnotes/assets/js/39.69db45b4.js"><link rel="prefetch" href="/technicalnotes/assets/js/4.c26f0e71.js"><link rel="prefetch" href="/technicalnotes/assets/js/40.3db125c8.js"><link rel="prefetch" href="/technicalnotes/assets/js/41.509d8d72.js"><link rel="prefetch" href="/technicalnotes/assets/js/42.66f393e7.js"><link rel="prefetch" href="/technicalnotes/assets/js/43.8ef45712.js"><link rel="prefetch" href="/technicalnotes/assets/js/44.7145b693.js"><link rel="prefetch" href="/technicalnotes/assets/js/45.558ff08f.js"><link rel="prefetch" href="/technicalnotes/assets/js/46.7f6d4aa8.js"><link rel="prefetch" href="/technicalnotes/assets/js/47.71a8e82a.js"><link rel="prefetch" href="/technicalnotes/assets/js/48.9454ba84.js"><link rel="prefetch" href="/technicalnotes/assets/js/49.e581366c.js"><link rel="prefetch" href="/technicalnotes/assets/js/5.9302f87f.js"><link rel="prefetch" href="/technicalnotes/assets/js/50.e995cdaf.js"><link rel="prefetch" href="/technicalnotes/assets/js/51.fead173b.js"><link rel="prefetch" href="/technicalnotes/assets/js/52.18fac8a2.js"><link rel="prefetch" href="/technicalnotes/assets/js/53.ab0153d1.js"><link rel="prefetch" href="/technicalnotes/assets/js/54.bc8fce22.js"><link rel="prefetch" href="/technicalnotes/assets/js/55.ecb7b420.js"><link rel="prefetch" href="/technicalnotes/assets/js/56.ee0028a5.js"><link rel="prefetch" href="/technicalnotes/assets/js/57.cf11d71a.js"><link rel="prefetch" href="/technicalnotes/assets/js/58.6e07534a.js"><link rel="prefetch" href="/technicalnotes/assets/js/59.64da7719.js"><link rel="prefetch" href="/technicalnotes/assets/js/6.f778b2b1.js"><link rel="prefetch" href="/technicalnotes/assets/js/60.19717184.js"><link rel="prefetch" href="/technicalnotes/assets/js/61.ba40ae7c.js"><link rel="prefetch" href="/technicalnotes/assets/js/62.c4c2d1ee.js"><link rel="prefetch" href="/technicalnotes/assets/js/63.8ec41052.js"><link rel="prefetch" href="/technicalnotes/assets/js/64.8a9192b8.js"><link rel="prefetch" href="/technicalnotes/assets/js/65.d4b6232e.js"><link rel="prefetch" href="/technicalnotes/assets/js/66.f8b08aa5.js"><link rel="prefetch" href="/technicalnotes/assets/js/67.5db0d459.js"><link rel="prefetch" href="/technicalnotes/assets/js/68.1399da69.js"><link rel="prefetch" href="/technicalnotes/assets/js/69.87ddfe9a.js"><link rel="prefetch" href="/technicalnotes/assets/js/7.f3d8e1e3.js"><link rel="prefetch" href="/technicalnotes/assets/js/70.ee68a5c0.js"><link rel="prefetch" href="/technicalnotes/assets/js/71.9618e192.js"><link rel="prefetch" href="/technicalnotes/assets/js/72.2a348d72.js"><link rel="prefetch" href="/technicalnotes/assets/js/73.2a7023c1.js"><link rel="prefetch" href="/technicalnotes/assets/js/74.8cb311ee.js"><link rel="prefetch" href="/technicalnotes/assets/js/75.566cb91b.js"><link rel="prefetch" href="/technicalnotes/assets/js/76.8954dee0.js"><link rel="prefetch" href="/technicalnotes/assets/js/77.9ad90087.js"><link rel="prefetch" href="/technicalnotes/assets/js/78.676bd91d.js"><link rel="prefetch" href="/technicalnotes/assets/js/79.d09c92b8.js"><link rel="prefetch" href="/technicalnotes/assets/js/80.ed79e884.js"><link rel="prefetch" href="/technicalnotes/assets/js/81.e55daff4.js"><link rel="prefetch" href="/technicalnotes/assets/js/82.8aef08e6.js"><link rel="prefetch" href="/technicalnotes/assets/js/83.43530e66.js"><link rel="prefetch" href="/technicalnotes/assets/js/84.a2f485a5.js"><link rel="prefetch" href="/technicalnotes/assets/js/85.745b77d2.js"><link rel="prefetch" href="/technicalnotes/assets/js/86.935e765c.js"><link rel="prefetch" href="/technicalnotes/assets/js/87.f9836982.js"><link rel="prefetch" href="/technicalnotes/assets/js/88.27803402.js"><link rel="prefetch" href="/technicalnotes/assets/js/89.0ce9e45f.js"><link rel="prefetch" href="/technicalnotes/assets/js/9.5a335dec.js"><link rel="prefetch" href="/technicalnotes/assets/js/90.f90220a0.js"><link rel="prefetch" href="/technicalnotes/assets/js/91.07048e2e.js"><link rel="prefetch" href="/technicalnotes/assets/js/92.671fb737.js"><link rel="prefetch" href="/technicalnotes/assets/js/93.171fca02.js"><link rel="prefetch" href="/technicalnotes/assets/js/94.3702b2cb.js"><link rel="prefetch" href="/technicalnotes/assets/js/95.46d6dcf0.js"><link rel="prefetch" href="/technicalnotes/assets/js/96.46559733.js"><link rel="prefetch" href="/technicalnotes/assets/js/97.d7fb1901.js"><link rel="prefetch" href="/technicalnotes/assets/js/98.99452047.js"><link rel="prefetch" href="/technicalnotes/assets/js/99.7a7527bd.js">
    <link rel="stylesheet" href="/technicalnotes/assets/css/0.styles.d0ef81bb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><main><main slot="sidebar-top"><!----></main> <div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/technicalnotes/" class="home-link router-link-active"><!----> <span class="site-name">杉-技术笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/technicalnotes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Web 开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/CSS3/" class="nav-link">
  CSS3
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/JavaScript/" class="nav-link">
  JavaScript
</a></li></ul></li><li class="dropdown-item"><h4>
          前端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/React/" class="nav-link router-link-exact-active router-link-active">
  React
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/WechatApplet/" class="nav-link">
  微信小程序
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Electron/" class="nav-link">
  Electron
</a></li></ul></li><li class="dropdown-item"><h4>
          移动端开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Andorid/" class="nav-link">
  Andorid
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Flutter/" class="nav-link">
  Flutter
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/" class="nav-link">
  Java 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JavaWeb/" class="nav-link">
  JavaWeb
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringMVC/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringBoot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JVM/" class="nav-link">
  JVM
</a></li></ul></li><li class="dropdown-item"><h4>
          Rust
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Rust/" class="nav-link">
  Rust 基础
</a></li></ul></li><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/" class="nav-link">
  Python 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/Django/" class="nav-link">
  Django
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/Flask/" class="nav-link">
  Flask
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/MySQL/" class="nav-link">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/Oracle/" class="nav-link">
  Oracle
</a></li></ul></li><li class="dropdown-item"><h4>
          PHP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/" class="nav-link">
  PHP 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/ThinkPHP/" class="nav-link">
  ThinkPHP
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Photoshop/" class="nav-link">
  Photoshop
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Unity/" class="nav-link">
  Unity
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/WinPE/" class="nav-link">
  WinPE
</a></li></ul></div></div><div class="nav-item"><a href="https://firpe.cn/about" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://firpe.cn/donate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投食 
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/technicalnotes/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Web 开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/HTML5/" class="nav-link">
  HTML5
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/CSS3/" class="nav-link">
  CSS3
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/JavaScript/" class="nav-link">
  JavaScript
</a></li></ul></li><li class="dropdown-item"><h4>
          前端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/React/" class="nav-link router-link-exact-active router-link-active">
  React
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/WechatApplet/" class="nav-link">
  微信小程序
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Electron/" class="nav-link">
  Electron
</a></li></ul></li><li class="dropdown-item"><h4>
          移动端开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Andorid/" class="nav-link">
  Andorid
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/front-end/Flutter/" class="nav-link">
  Flutter
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/" class="nav-link">
  Java 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JavaWeb/" class="nav-link">
  JavaWeb
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringMVC/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/SpringBoot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Java/JVM/" class="nav-link">
  JVM
</a></li></ul></li><li class="dropdown-item"><h4>
          Rust
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Rust/" class="nav-link">
  Rust 基础
</a></li></ul></li><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/" class="nav-link">
  Python 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/Django/" class="nav-link">
  Django
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/Python/Flask/" class="nav-link">
  Flask
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/MySQL/" class="nav-link">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/DataBase/Oracle/" class="nav-link">
  Oracle
</a></li></ul></li><li class="dropdown-item"><h4>
          PHP
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/" class="nav-link">
  PHP 基础
</a></li><li class="dropdown-subitem"><a href="/technicalnotes/back-end/PHP/ThinkPHP/" class="nav-link">
  ThinkPHP
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Photoshop/" class="nav-link">
  Photoshop
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Unity/" class="nav-link">
  Unity
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/technicalnotes/Other/WinPE/" class="nav-link">
  WinPE
</a></li></ul></div></div><div class="nav-item"><a href="https://firpe.cn/about" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://firpe.cn/donate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  投食 
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/technicalnotes/front-end/React/AntDesign.html" class="sidebar-link">AntDesign 界面库</a></li><li><a href="/technicalnotes/front-end/React/Axios.html" class="sidebar-link">Axios 网络请求</a></li><li><a href="/technicalnotes/front-end/React/Hooks.html" class="sidebar-link">React Hooks</a></li><li><a href="/technicalnotes/front-end/React/ImmutableJS.html" class="sidebar-link">ImmutableJS</a></li><li><a href="/technicalnotes/front-end/React/" class="active sidebar-link">React 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#visual-studio-code-插件" class="sidebar-link">Visual Studio Code 插件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#增加代码提示" class="sidebar-link">增加代码提示</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#浏览器插件" class="sidebar-link">浏览器插件</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#脚手架" class="sidebar-link">脚手架</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#依赖" class="sidebar-link">依赖</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#创建项目" class="sidebar-link">创建项目</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#启动项目" class="sidebar-link">启动项目</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#编译项目" class="sidebar-link">编译项目</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#目录结构" class="sidebar-link">目录结构</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#基本概念" class="sidebar-link">基本概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#babel" class="sidebar-link">Babel</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#pwa" class="sidebar-link">PWA</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#jsx" class="sidebar-link">JSX</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#jxs-书写规范" class="sidebar-link">JXS 书写规范</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#语法" class="sidebar-link">语法</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#jsx-的本质" class="sidebar-link">JSX 的本质</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#为什么要用虚拟-dom" class="sidebar-link">为什么要用虚拟 DOM</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#css" class="sidebar-link">CSS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#内嵌样式" class="sidebar-link">内嵌样式</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#普通-css" class="sidebar-link">普通 css</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#css-modules" class="sidebar-link">CSS Modules</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#css-in-js" class="sidebar-link">CSS in JS</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#组件" class="sidebar-link">组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#类组件" class="sidebar-link">类组件</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#函数式组件" class="sidebar-link">函数式组件</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#render-函数返回值" class="sidebar-link">render 函数返回值</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#父传子" class="sidebar-link">父传子</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#子传父" class="sidebar-link">子传父</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#属性验证" class="sidebar-link">属性验证</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#默认值" class="sidebar-link">默认值</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#class-fields-写法" class="sidebar-link">Class fields 写法</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#跨组件传参" class="sidebar-link">跨组件传参</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#全局事件传递" class="sidebar-link">全局事件传递</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#portals-使用" class="sidebar-link">Portals 使用</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#fragments" class="sidebar-link">fragments</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#strictmode" class="sidebar-link">StrictMode</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#高阶组件" class="sidebar-link">高阶组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#定义高阶函数" class="sidebar-link">定义高阶函数</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#使用" class="sidebar-link">使用</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#高阶组件的意义" class="sidebar-link">高阶组件的意义</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#插槽" class="sidebar-link">插槽</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#匿名插槽" class="sidebar-link">匿名插槽</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#具名插槽" class="sidebar-link">具名插槽</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#生命周期" class="sidebar-link">生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#生命周期函数" class="sidebar-link">生命周期函数</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#不常用生命周期" class="sidebar-link">不常用生命周期</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#setstate" class="sidebar-link">setState</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#为什么使用-setstate" class="sidebar-link">为什么使用 setState</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#为什么设计成异步更新" class="sidebar-link">为什么设计成异步更新</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#setstate-是不可变的数据" class="sidebar-link">setState 是不可变的数据</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#基本使用" class="sidebar-link">基本使用</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#获取异步更新后的数据" class="sidebar-link">获取异步更新后的数据</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#setstate-变为同步更新" class="sidebar-link">setState 变为同步更新</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#setstate-的数据合并" class="sidebar-link">setState 的数据合并</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#多个-setstate-合并" class="sidebar-link">多个 setState 合并</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#性能优化" class="sidebar-link">性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#react-更新机制" class="sidebar-link">React 更新机制</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#keys-的优化" class="sidebar-link">Keys 的优化</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#scu-的优化" class="sidebar-link">SCU 的优化</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#ref" class="sidebar-link">ref</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#获取-ref" class="sidebar-link">获取 ref</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#ref-的类型" class="sidebar-link">ref 的类型</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#ref-的转发" class="sidebar-link">ref 的转发</a></li></ul></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#受控组件和非受控组件" class="sidebar-link">受控组件和非受控组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#受控组件" class="sidebar-link">受控组件</a></li><li class="sidebar-sub-header"><a href="/technicalnotes/front-end/React/#非受控组件" class="sidebar-link">非受控组件</a></li></ul></li></ul></li><li><a href="/technicalnotes/front-end/React/React-Transition-Group.html" class="sidebar-link">React-Transition-Group</a></li><li><a href="/technicalnotes/front-end/React/ReactSSR.html" class="sidebar-link">React SSR</a></li><li><a href="/technicalnotes/front-end/React/Redux.html" class="sidebar-link">Redux 状态管理</a></li><li><a href="/technicalnotes/front-end/React/Router.html" class="sidebar-link">Router 路由</a></li><li><a href="/technicalnotes/front-end/React/classNames.html" class="sidebar-link">classNames</a></li><li><a href="/technicalnotes/front-end/React/craco.html" class="sidebar-link">craco</a></li><li><a href="/technicalnotes/front-end/React/normalize.css.html" class="sidebar-link">normalize.css</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react-基础"><a href="#react-基础" class="header-anchor">#</a> React 基础</h1> <p>React 用于构建用户界面的 JavaScript 库</p> <h2 id="visual-studio-code-插件"><a href="#visual-studio-code-插件" class="header-anchor">#</a> Visual Studio Code 插件</h2> <ul><li>ES7 React/Redux/GraphQL/React-Native snippets : 快速生成 React 代码段</li> <li>Reactjs code snippets : 快速生成 React 代码段</li> <li>Auto Import : 自动导入</li> <li>Path Intellisense : 路径补全</li></ul> <h3 id="增加代码提示"><a href="#增加代码提示" class="header-anchor">#</a> 增加代码提示</h3> <p>Visual Studio Code 默认不支持在 JavaScript 中使用缩写（如直接写 div 自动补全为 div 标签）</p> <p>settings.json</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;emmet.includeLanguages&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;javascript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;javascriptreact&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="浏览器插件"><a href="#浏览器插件" class="header-anchor">#</a> 浏览器插件</h3> <ul><li>react-developer-tools</li></ul> <h2 id="脚手架"><a href="#脚手架" class="header-anchor">#</a> 脚手架</h2> <p><strong>脚手架让项目从搭建到开发,再到部署，整个流程变得快速和便捷</strong></p> <p>编程中提到的脚手架 (Scaffold) , 其实是一种工具，帮我们可以快速生成项目的工程化结构，并且已经将我们所需的工程环境配置好</p> <ul><li>每个项目作出完成的效果不同，但是它们的基本工程化结构是相似的。既然相似，就没有必要每次都从零开始搭建，完全可以使用一些工具，帮助我们生产基本的工程化模板</li> <li>不同的项目，在这个模板的基础之上进行项目开发或者进行一些配置的简单修改即可</li> <li>这样也可以间接保证项目的基本机构一致性，方便后期的维护</li></ul> <h3 id="依赖"><a href="#依赖" class="header-anchor">#</a> 依赖</h3> <ol><li>安装 Node.js：<a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener noreferrer">Node.js 官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>安装 WebPack：<code>npm install webpack -g</code></li></ol> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <p>安装 React 脚手架：<code>npm install -g create-react-app</code></p> <h3 id="创建项目"><a href="#创建项目" class="header-anchor">#</a> 创建项目</h3> <p>创建项目：<code>create-react-app 项目名称</code></p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>项目名称不能包含大写字母</p></div> <p><strong>目录结构划分</strong></p> <p>创建 <code>\src\assets\img</code> : 存放图片<br>
创建 <code>\src\assets\font</code> : 存放字体<br>
创建 <code>\src\assets\css</code> : 存放 css</p> <p>创建 <code>\src\common</code> : 存放公共的数据等<br>
创建 <code>\src\components</code> : 存放公共的组件<br>
创建 <code>\src\pages</code> : 存放页面<br>
创建 <code>\src\router</code> : 存放路由<br>
创建 <code>\src\services</code> : 存放网络请求相关信息<br>
创建<code>\src\store</code> : 存放 redux 信息<br>
创建 <code>\src\utils</code> : 存放工具</p> <p><strong>配置别名</strong></p> <p><a href="/technicalnotes/front-end/React/craco.html#配置别名">craco 配置别名</a></p> <h3 id="启动项目"><a href="#启动项目" class="header-anchor">#</a> 启动项目</h3> <p>启动项目：<code>npm start</code></p> <h3 id="编译项目"><a href="#编译项目" class="header-anchor">#</a> 编译项目</h3> <p>编译项目：<code>npm run build</code></p> <h3 id="目录结构"><a href="#目录结构" class="header-anchor">#</a> 目录结构</h3> <div class="language- extra-class"><pre class="language-text"><code>项目名
├─ README.md // readme说明文档
├─ package.json // 对整个应用程序的描述：包括应用名称、版本号、一些依赖包、以及项目的启动、打包等等（node管理项目必备文件）
├─ public
│    ├─ favicon.ico // 应用程序顶部的icon图标
│    ├─ index.html // 应用的index.html入口文件
│    ├─ logo192.png // 被在manifest.json中使用
│    ├─ logo512.png // 被在manifest.json中使用
│    ├─ manifest.json // 和Web app配置相关
│    └─ robots.txt // 指定搜索引擎可以或者无法爬取哪些文件
├─ src
│    ├─ App.css // App组件相关的样式
│    ├─ App.js // App组件的代码文件
│    ├─ App.test.js // App组件的测试代码文件
│    ├─ index.css // 全局的样式文件
│    ├─ index.js // 整个应用程序的入口文件
│    ├─ logo.svg // 刚才启动项目，所看到的React图标
│    ├─ serviceWorker.js // 默认帮助我们写好的注册PWA相关的代码
│    └─ setupTests.js // 测试初始化文件
├─package-lock.json // 记录本地真实安装版本
└─.gitignore // 记录git版本控制的排除文件
</code></pre></div><h2 id="基本概念"><a href="#基本概念" class="header-anchor">#</a> 基本概念</h2> <h3 id="babel"><a href="#babel" class="header-anchor">#</a> Babel</h3> <p>Babel，又名 Babeljs。是目前前端使用非常广泛的编辑器、转移器。比如当下很多浏览器并不支持 ES6 的语法，但是确实 ES6 的语法非常的简洁和方便，我们开发时希望使用它。那么编写源码时我们就可以使用 ES6 来编写，之后通过 Babel 工具，将 ES6 转成大多数浏览器都支持的 ES5 的语法</p> <h3 id="pwa"><a href="#pwa" class="header-anchor">#</a> PWA</h3> <p>PWA 全称 Progressive Web App，即渐进式 WEB 应用。<br>
一个 PWA 应用首先是一个网页, 可以通过 Web 技术编写出一个网页应用. 随后添加上 App Manifest 和 Service Worker 来实现 PWA 的安装和离线等功能； 这种 Web 存在的形式，我们也称之为是 Web App；</p> <p>PWA 解决了哪些问题呢？</p> <ul><li>可以添加至主屏幕，点击主屏幕图标可以实现启动动画以及隐藏地址栏；</li> <li>实现离线缓存功能，即使用户手机没有网络，依然可以使用一些离线功能；</li> <li>实现了消息推送；</li> <li>等等一系列类似于 Native App 相关的功能；</li></ul> <h2 id="jsx"><a href="#jsx" class="header-anchor">#</a> JSX</h2> <p>JSX 是一种 JavaScript 的语法扩 展( eXtension) , 也在很多地方称之为 JavaScript XML，因为看起就是一段 XML 语法。<br>
它用于描述我们的 UI 界面,并且其完成可以和 JavaScript 融合在一起使用。<br>
它不同于 Vue 中的模块语法，你不需要专门学习模块语法中的一些指令（比如 v-for、v-if、 v-else、v-bind）</p> <div class="language-JSX extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello World</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="jxs-书写规范"><a href="#jxs-书写规范" class="header-anchor">#</a> JXS 书写规范</h3> <ul><li>JSX 的顶层只能有一个根元素，所以我们很多时候会在外层包裹一个 div 原生（或者使用后面我们学习的 Fragment）</li> <li>为了方便阅读,我们通常在 jsx 的外层包裹一个小括号() ,这样可以方便阅读,并且 jsx 可以进行换行书写</li> <li>JSX 中的标签可以是单标签,也可以是双标签。注意：<strong>如果是单标签，必须以/&gt;结尾</strong></li></ul> <h3 id="语法"><a href="#语法" class="header-anchor">#</a> 语法</h3> <ul><li>注释</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token punctuation">{</span>
  <span class="token comment">/* 注释 */</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>嵌入数据</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>对象不能作为 jsx 的子类，无法输出 Object 对象</p></div> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>变量名<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>嵌入表达式</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token punctuation">{</span><span class="token comment">/* 运算符表达式*/</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>变量<span class="token number">1</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> 变量<span class="token number">2</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token number">20</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

<span class="token punctuation">{</span><span class="token comment">/* 函数调用 */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">函数名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>内嵌表达式</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token punctuation">{</span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">字符串，</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>变量<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>逻辑与算符</li></ul> <p>如果条件成立则渲染某一个组件，否则不显示</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token punctuation">{</span>
  条件 <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">渲染内容</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>三元表达式</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>变量 <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>绑定属性</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> title<span class="token punctuation">,</span> imgUrl<span class="token punctuation">,</span> link <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">title</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">我是标题</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>imgUrl<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>link<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">百度一下</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>绑定 class</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>jsx 中<code>class</code>为关键字，不能直接使用，需要使用<code>className</code></p></div> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">div元素</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&quot;box title &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>active <span class="token operator">?</span> <span class="token string">&quot;active&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">div元素</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">{</span><span class="token comment">/* 传入数组 */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>isActive <span class="token operator">?</span> <span class="token string">&quot;active&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>绑定 Style</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token punctuation">:</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token string">&quot;50px&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">绑定Style属性</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> display<span class="token punctuation">:</span> isLogin <span class="token operator">?</span> <span class="token string">'block'</span> <span class="token punctuation">:</span> <span class="token string">&quot;none&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">绑定Style属性</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>绑定事件</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>函数名<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>

<span class="token punctuation">{</span>
  <span class="token comment">/* 函数内访问this对象 */</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
  <span class="token comment">/*（推荐） 直接传入一个箭头函数，在箭头函数中调用需要执行的函数 */</span>
<span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">函数名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>

<span class="token punctuation">{</span>
  <span class="token comment">/* 使用bind绑定this对象 */</span>
<span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">函数名</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>函数内访问 this 对象默认为 undefine，因为按钮的事件函数并不是我们主动调用，而是当 button 发生改变时，React 内部调用，当它内部调用时，并不知道要如何绑定正确的 this</p> <p>解决方法：</p> <ul><li>（推荐）在 jsx 中直接传入一个箭头函数，在箭头函数中调用需要执行的函数</li> <li>定义函数时，使用箭头函数</li> <li>在构造方法中，<code>this.函数名 = this.函数名.bind(this)</code> 绑定 this 对象</li> <li>绑定函数时增加<code>.bind(this)</code>绑定 this 对象</li></ul></div> <ul><li>事件对象</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token function">函数名</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>JavaScript 字符串中 <code>\n</code> 转<code>&lt;br&gt;</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> character <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> 显示字符串 <span class="token operator">=</span> 字符串<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>character<span class="token punctuation">,</span> <span class="token string">&quot;&lt;br /&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">dangerouslySetInnerHTML</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">__html:</span></span> <span class="token attr-name">显示字符串</span> <span class="token attr-name">}}</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="jsx-的本质"><a href="#jsx-的本质" class="header-anchor">#</a> JSX 的本质</h3> <p>jsx 仅仅只是 React.createElement(component, props, ..children)函数的语法糖。所有的 jsx 最终都会被转换成 React.createElement 函数调用</p> <p>jsx -&gt;createElement 函数 -&gt; ReactElement（对象树）-&gt;ReactDom.render</p> <h3 id="为什么要用虚拟-dom"><a href="#为什么要用虚拟-dom" class="header-anchor">#</a> 为什么要用虚拟 DOM</h3> <ul><li>很难跟踪状态发生的改变：原有的开发模式，我们很难跟踪到状态发生的改变，不方便针对我们应用程序进行调试</li> <li>操作真实 DOM 性能较低：传统的开发模式会进行频繁的 DOM 操作，而这一的做法性能非常的低</li></ul> <h2 id="css"><a href="#css" class="header-anchor">#</a> CSS</h2> <p>React 官方并没有给出在 React 中统一的样式风格：</p> <ul><li>由此，从普通的 css，到 css modules，再到 css in js，有几十种不同的解决方案，上百个不同的库</li> <li>大家一致在寻找最好的或者说最适合自己的 CSS 方案，但是到目前为止也没有统一的方案</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>样式内引用图片需要使用 <code>url(${require(&quot;/路径&quot;)})</code></p></div> <h3 id="内嵌样式"><a href="#内嵌样式" class="header-anchor">#</a> 内嵌样式</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>h2 style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> fontSize<span class="token punctuation">:</span> <span class="token string">&quot;50px&quot;</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">&quot;#aaa&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>标题 <span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
</code></pre></div><p>内联样式的优点：</p> <ol><li>内联样式，样式之间不会有冲突</li> <li>可以动态获取当前 state 中的状态</li></ol> <p>内联样式的缺点：</p> <ol><li>写法上都需要使用驼峰标识</li> <li>某些样式没有提示</li> <li>大量的样式，代码混乱</li> <li>某些样式无法编写（比如伪类/伪元素）</li></ol> <h3 id="普通-css"><a href="#普通-css" class="header-anchor">#</a> 普通 css</h3> <p>\style.css</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.组件名 .类名</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> PureComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./style.css&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;组件名&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">&quot;类名&quot;</span><span class="token operator">&gt;</span>我是Home标题<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这样的编写方式和普通的网页开发中编写方式是一致的：</p> <ul><li>如果我们按照普通的网页标准去编写，那么也不会有太大的问题</li> <li>但是组件化开发中我们总是希望组件是一个独立的模块，即便是样式也只是在自己内部生效，不会相互影响</li> <li>但是普通的 css 都属于全局的 css，样式之间会相互影响</li></ul> <h3 id="css-modules"><a href="#css-modules" class="header-anchor">#</a> CSS Modules</h3> <p>CSS Modules 并不是 React 特有的解决方案，而是所有使用了类似于 webpack 配置的环境下都可以使用的</p> <p>React 的脚手架已经内置了 css modules 的配置：</p> <ul><li>.css/.less/.scss 等样式文件都修改成 .module.css/.module.less/.module.scss 等之后就可以引用并且进行使用</li></ul> <p>\style.module.css</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.类名</span> <span class="token punctuation">{</span>
  <span class="token property">属性</span><span class="token punctuation">:</span> 值<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> style <span class="token keyword">from</span> <span class="token string">&quot;./style.module.css&quot;</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token punctuation">{</span>style<span class="token punctuation">.</span>类名<span class="token punctuation">}</span><span class="token operator">&gt;</span>标题<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p>CSS Modules 的缺陷：</p> <ul><li>引用的类名，不能使用连接符 如（.home-title），在 JavaScript 中是不识别的</li> <li>所有的 className 都必须使用 <code>{style.className}</code> 的形式来编写</li> <li><strong>不方便动态来修改某些样式，依然需要使用内联样式的方式</strong></li></ul> <p>CSS Modules 确实解决了局部作用域的问题，也是很多人喜欢在 React 中使用的一种方案</p> <h3 id="css-in-js"><a href="#css-in-js" class="header-anchor">#</a> CSS in JS</h3> <p>&quot;CSS-in-JS&quot; 是指一 种模式，其中 CSS 由 JavaScript 生成而不是在外部文件中定义</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>此功能并不是 React 的一部分，而是由第三方库提供。React 对样式如何定义并没有明确态度</p></div> <ul><li>安装依赖</li></ul> <p>npm: <code>npm install styled-components --save</code></p> <ul><li>安装插件</li></ul> <p>vscode-styled-components</p> <ul><li>使用</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>styled-components 支持类似 CSS 预处理器一样的特性：</p> <ul><li>支持子代选择器或后代选择器，并且直接编写样式；</li> <li>可以通过 &amp; 符号获取当前元素；</li> <li>支持伪类选择器、伪元素等；</li></ul></div> <p>新建 \style.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">&quot;styled-components&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Wrapper <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  /* CSS样式（支持嵌套样式） */
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> 样式名 <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  /* CSS样式（支持嵌套样式） */
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><p>\index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> PureComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Wrapper<span class="token punctuation">,</span> 样式名 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./style&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Wrapper<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>样式名<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>标题<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>样式名<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Wrapper<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><ul><li>动态设置 CSS 样式</li></ul> <p>\index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      属性<span class="token punctuation">:</span> <span class="token string">&quot;值&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>样式名 属性<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>属性<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\style.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> 样式名 <span class="token operator">=</span> styled<span class="token punctuation">.</span>标签名<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  /* CSS样式 */
  属性: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>属性<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><ul><li>动态设置属性</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> 样式名 <span class="token operator">=</span> styled<span class="token punctuation">.</span>标签名<span class="token punctuation">.</span><span class="token function">attrs</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  属性<span class="token punctuation">:</span> <span class="token string">&quot;值&quot;</span><span class="token punctuation">,</span>
  自定义属性<span class="token punctuation">:</span> <span class="token string">&quot;值&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  /* CSS样式 */
  属性: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>自定义属性<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><ul><li>继承样式</li></ul> <p>\style.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> 父样式 <span class="token operator">=</span> styled<span class="token punctuation">.</span>标签名<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  /* CSS样式 */
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> 子样式 <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>父样式<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  /* CSS样式 */
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><ul><li>主题样式</li></ul> <p>全局定制自己的主题，通过 Provider 进行共享</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;styled-components&quot;</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span>ThemeProvider theme<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> 主题属性<span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">&quot;值&quot;</span><span class="token punctuation">,</span> 主题属性<span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">&quot;值&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>组件名<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> 样式名 <span class="token operator">=</span> styled<span class="token punctuation">.</span>标签名<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  属性: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>主题属性<span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
  属性: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>主题属性<span class="token number">2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><h2 id="组件"><a href="#组件" class="header-anchor">#</a> 组件</h2> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ul><li>不能直接使用<code>this.state.变量名</code>操作变量，界面不会发生任何变化。需要使用<code>this.setState({变量名: 值})</code>方法来操作变量</li> <li>所有 React 组件都必须像纯函数一样保护它们的 props 不被更改</li> <li><code>export default</code> 导出后 需要 <code>import 组件名 from &quot;/路径&quot;</code> 导入，<strong>不需要增加花括号</strong></li></ul></div> <h3 id="类组件"><a href="#类组件" class="header-anchor">#</a> 类组件</h3> <div class="custom-block warning"><p class="custom-block-title">注意</p> <ul><li>组件的名称<strong>必须是大写字符开头</strong>（否则会被作为 HTMT 元素解析）</li> <li>类组件需要继承自 React.PureComponent</li> <li>类组件必须实现 render 函数</li></ul></div> <p>Visual Studio Code 快速创建类组件：<code>rpc</code>-&gt;回车</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> PureComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//数据对象</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行 请求网络、DOM操作、订阅 等操作</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="函数式组件"><a href="#函数式组件" class="header-anchor">#</a> 函数式组件</h3> <p>Visual Studio Code 快速创建类组件：<code>rmc</code>-&gt;回车</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>组件的名称<strong>必须是大写字符开头</strong>（否则会被作为 HTMT 元素解析）</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">memo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token function">函数式组件名</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span><span class="token punctuation">)</span>
</code></pre></div><p>函数式组件特点：</p> <ol><li>没有 this 对象</li> <li>没有内部的状态（state），不能定义变量</li> <li>没有生命周期。也会被更新并挂载，但是没有生命周期函数</li></ol> <h3 id="render-函数返回值"><a href="#render-函数返回值" class="header-anchor">#</a> render 函数返回值</h3> <p>render 函数可以返回：</p> <ul><li>jsx : 渲染为 DOM 节点</li> <li>数组、fragments : 使得 render 方法可以返回多个元素</li> <li>Portals : 可以渲染子节，点到不同的 DOM 子树中</li> <li>字符串、数值 : 在 DOM 中会被渲染为文本节点</li> <li>布尔类型、null : 什么都不渲染</li></ul> <h3 id="父传子"><a href="#父传子" class="header-anchor">#</a> 父传子</h3> <ul><li>类组件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>组件名 参数<span class="token number">1</span><span class="token operator">=</span><span class="token string">&quot;值&quot;</span> 参数<span class="token number">2</span><span class="token operator">=</span><span class="token punctuation">{</span>值<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span>
</code></pre></div><p>使用：</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>如不需要数据对象可以省略<code>constructor()</code>构造方法</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> 参数<span class="token number">1</span><span class="token punctuation">,</span> 参数<span class="token number">2</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span>参数<span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span>参数<span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>函数组件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">组件名</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> 参数<span class="token number">1</span><span class="token punctuation">,</span> 参数<span class="token number">2</span> <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span>参数<span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span>参数<span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>组件名 参数<span class="token number">1</span><span class="token operator">=</span><span class="token string">&quot;值&quot;</span> 参数<span class="token number">2</span><span class="token operator">=</span><span class="token punctuation">{</span>值<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span>
</code></pre></div><h3 id="子传父"><a href="#子传父" class="header-anchor">#</a> 子传父</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> 子组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">事件名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">事件名</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 调用父组件方法</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">事件名</span><span class="token punctuation">(</span>参数<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> 父组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>组件名 事件名<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">事件名</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span>

        <span class="token punctuation">{</span><span class="token comment">/* 箭头函数写法 */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>组件名 事件名<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">事件名</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">事件名</span><span class="token punctuation">(</span><span class="token parameter">参数名</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>参数名<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 箭头函数写法</span>
  <span class="token function">事件名</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="属性验证"><a href="#属性验证" class="header-anchor">#</a> 属性验证</h3> <p>限制传参的数据类型</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>属性验证库被移至<code>prop-types</code>，使用前需要导入此库</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">&quot;prop-types&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">组件名</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> 参数<span class="token number">1</span><span class="token punctuation">,</span> 参数<span class="token number">2</span> <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

组件名<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//（默认）可选参数</span>
  参数<span class="token number">1</span><span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>数据类型<span class="token punctuation">,</span>
  <span class="token comment">// 必传参数</span>
  参数<span class="token number">2</span><span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>数据类型<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="默认值"><a href="#默认值" class="header-anchor">#</a> 默认值</h3> <div class="language-js extra-class"><pre class="language-js"><code>组件名<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  参数<span class="token number">1</span><span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
  参数<span class="token number">2</span><span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="class-fields-写法"><a href="#class-fields-写法" class="header-anchor">#</a> Class fields 写法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">ChildCpn2</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token comment">// 属性验证</span>
  <span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 默认值</span>
  <span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="跨组件传参"><a href="#跨组件传参" class="header-anchor">#</a> 跨组件传参</h3> <ul><li>类组件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Context名 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//设置默认值</span>
  变量<span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  变量<span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      变量名<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Context名<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>传参组件名<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>传参组件名<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Context名<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> 传参组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>变量名<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

传参组件名<span class="token punctuation">.</span>contextType <span class="token operator">=</span> Context名<span class="token punctuation">;</span>
</code></pre></div><ul><li>函数组件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Context名 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//设置默认值</span>
  变量名<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      变量名<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Context名<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>传参组件名<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>传参组件名<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Context名<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">传参组件名</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Context名<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span>value<span class="token punctuation">.</span>变量名<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Context名<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="全局事件传递"><a href="#全局事件传递" class="header-anchor">#</a> 全局事件传递</h3> <ul><li><p>安装依赖 ：<code>npm install events</code></p></li> <li><p>发射事件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> EventEmitter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <p>// 事件总线：event bus
const eventBus = new EventEmitter();</p> <p>// 发射事件
eventBus.emit(&quot;事件名&quot;, 参数 1, 参数 2)</p> <div class="language- extra-class"><pre class="language-text"><code>
* 监听事件

``` js
class 组件名 extends PureComponent {
  componentDidMount() {
    // 增加事件监听
    eventBus.addListener(&quot;事件名&quot;, this.监听事件函数)
  }

  componentWillUnmount() {
    // 取消事件监听
    eventBus.removeListener(&quot;事件名&quot;, this.监听事件函数)
  }

  监听事件函数(参数1,参数2) {

  }
}
</code></pre></div><h3 id="portals-使用"><a href="#portals-使用" class="header-anchor">#</a> Portals 使用</h3> <p>某些情况下，我们希望渲染的内容独立于父组件，甚至是独立于当前挂载到的 DOM 元素中（默认都是挂载到 id 为 root 的 DOM 元素上的）</p> <h3 id="fragments"><a href="#fragments" class="header-anchor">#</a> fragments</h3> <p>在之前的开发中，我们总是在一个组件中返回内容时包裹一个 div 元素。<br>
但我们又希望可以不渲染这样一个 div 应该使用 Fragment，Fragment 允许将子列表分组，而无需向 DOM 添加额外节点</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>短语法不支持增加属性。key 是唯一可以传递给 Fragment 的属性。</p></div> <ul><li>基本使用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>Fragment<span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token comment">/* 组件内容 */</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Fragment<span class="token operator">&gt;</span>
</code></pre></div><ul><li>短语法</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token comment">/* 组件内容 */</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><ul><li>带 key 的 Fragments</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Fragment key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token comment">/* 组件内容 */</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">&gt;</span>
</code></pre></div><h3 id="strictmode"><a href="#strictmode" class="header-anchor">#</a> StrictMode</h3> <p>StrictMode（严格模式） 是一个用来突出显示应用程序中潜在问题的工具：</p> <ul><li>与 Fragment 一样，StrictMode 不会渲染任何可见的 UI</li> <li>它为其后代元素触发额外的检查和警告</li> <li>严格模式检查仅在开发模式下运行;它们不会影响生产构建</li></ul> <p>StrictMode 会检测以下：</p> <ol><li>识别不安全的生命周期</li> <li>使用过时的 ref API （字符串方式）</li> <li>检查意外的副作用
<ul><li>开启 StrictMode 后，这个组件的 constructor 会被调用两次</li> <li>这是严格模式下故意进行的操作，让你来查看在这里写的一些逻辑代码被调用多次时，是否会产生一些副作用</li> <li>在生产环境中，是不会被调用两次的</li></ul></li> <li>使用废弃的 findDOMNode 方法
<ul><li>在之前的 React API 中，可以通过 findDOMNode 来获取 DOM。已不推荐使用</li></ul></li> <li>检测过时的 context API
<ul><li>早期的 Context 是通过 static 属性声明 Context 对象属性，通过 getChildContext 返回 Context 对象等方式来使用 Context。已不推荐使用</li></ul></li></ol> <h2 id="高阶组件"><a href="#高阶组件" class="header-anchor">#</a> 高阶组件</h2> <p>高阶组件 (Higher-Order Components) 简称为 HOC。是参数为组件，返回值为新组件的函数。</p> <ol><li>高阶组件本身不是一个组件，而是一个函数</li> <li>这个函数的参数是一个组件，返回值也是一 个组件</li></ol> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>高阶组件并不是 React API 的一部分，它是基于 React 的组合特性而形成的设计模式</p></div> <h3 id="定义高阶函数"><a href="#定义高阶函数" class="header-anchor">#</a> 定义高阶函数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">higherOrderComponent</span><span class="token punctuation">(</span><span class="token parameter">WrapperComponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> PureComponent <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrapperComponent <span class="token punctuation">{</span><span class="token operator">...</span>this<span class="token punctuation">.</span>props<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>WrapperComponent<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> 高阶组件名 <span class="token operator">=</span> <span class="token function">higherOrderComponent</span><span class="token punctuation">(</span>组件<span class="token punctuation">)</span>

<span class="token operator">&lt;</span>高阶组件名<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>高阶组件名<span class="token operator">&gt;</span>
</code></pre></div><h3 id="高阶组件的意义"><a href="#高阶组件的意义" class="header-anchor">#</a> 高阶组件的意义</h3> <p>我们会发现利用高阶组件可以针对某些 React 代码进行更加优雅的处理</p> <p>其实早期的 React 有提供组件之间的一种复用方式是 mixin，目前已经不再建议使用：</p> <ul><li>Mixin 可能会相互依赖，相互耦合，不利于代码维护</li> <li>不同的 Mixin 中的方法可能会相互冲突</li> <li>Mixin 非常多时，组件是可以感知到的，甚至还要为其做相关处理，这样会给代码造成滚雪球式的复杂性</li></ul> <p>当然, HOC 也有自己的一些缺陷：</p> <ul><li>HOC 需要在原组件上进行包裹或者嵌套,如果大量使用 HOC，将会产生非常多的嵌套，这让调试变得非常困难;</li> <li>HOC 可以劫持 props，在不遵守约定的情况下也可能造成冲突</li></ul> <p>Hooks 的出现，是开创性的,它解决了很多 React 之前的存在的问题</p> <ul><li>比如 this 指向问题、比如 hoc 的嵌套复杂度问题等等;</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>高阶组件一般应用于拦截</p></div> <h2 id="插槽"><a href="#插槽" class="header-anchor">#</a> 插槽</h2> <p>在开发中，我们抽取了一个组件，但是为了让这个组件具备更强的通用性，我们不能将组件中的内容限制为固定的 div、span 等等这些元素，我们应该让使用者可以决定某一块区域到底存放什么内容。</p> <p>举栗：假如我们定制一个通用的导航组件 - NavBar</p> <ul><li>这个组件分成三块区域：左边 - 中间 - 右边，每块区域的内容是不固定</li> <li>左边区域可能显示一个菜单图标，也可能显示一个返回按钮，可能什么都不显示</li> <li>中间区域可能显示一个搜索框，也可能是一个列表，也可能是一个标题，等等</li> <li>右边可能是一个文字，也可能是一个图标，也可能什么都不显示</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>React 中，没有插槽的概念，需要由我们自己去实现</p></div> <h3 id="匿名插槽"><a href="#匿名插槽" class="header-anchor">#</a> 匿名插槽</h3> <p>匿名插槽是根据下标来显示插槽内容</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>组件名<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>插槽<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>插槽<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span>
</code></pre></div><h3 id="具名插槽"><a href="#具名插槽" class="header-anchor">#</a> 具名插槽</h3> <p>具名插槽需要指定插槽名</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> 插槽<span class="token number">1</span><span class="token punctuation">,</span> 插槽<span class="token number">2</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>插槽<span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>插槽<span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>组件名 插槽<span class="token number">1</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>插槽<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span><span class="token punctuation">}</span> 插槽<span class="token number">2</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>插槽<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span>
</code></pre></div><h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <p>很多的事物都有从创建到销毁的整个过程，这个过程称之为是<strong>生命周期</strong></p> <p><a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/" target="_blank" rel="noopener noreferrer"><img src="/technicalnotes/assets/img/React生命周期.0d86e5ed.jpg" alt="React常用生命周期"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="生命周期函数"><a href="#生命周期函数" class="header-anchor">#</a> 生命周期函数</h3> <ul><li><p>constructor</p> <p><code>constructor(props)</code></p> <p>如果不初始化 state 或不进行方法绑定，则不需要为 React 组件实现构造函数。</p> <p>constructor 中通常只做两件事情：</p> <ol><li>通过给 this.state 赋值对象来初始化内部的 state</li> <li>为事件绑定实例（this）</li></ol></li> <li><p>componentDidMount</p> <p><code>componentDidMount()</code></p> <p>componentDidMount() 会在组件挂载后（插入 DOM 树中）立即调用</p> <p>依赖于 DOM 的操作可以在这里进行，在此处发送网络请求就最好的地方（官方建议）
可以在此处添加一些订阅（会在 componentWillUnmount 取消订阅）</p></li> <li><p>componentDidUpdate</p> <p><code>componentDidUpdate(prevProps, prevState, snapshot)</code></p> <p>componentDidUpdate() 会在更新后会被立即调用，首次渲染不会执行此方法。</p> <p>当组件更新后，可以在此处对 DOM 进行操作；
如果对更新前后的 props 进行了比较，也可以选择在此处进行网络请求（例如：当 props 未发生变化时，则不会执行网络请求）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 典型用法（不要忘记比较 props）：</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>userID <span class="token operator">!==</span> prevProps<span class="token punctuation">.</span>userID<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>userID<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>componentWillUnmount</p> <p>componentWillUnmount() 会在组件卸载及销毁之前直接调用。
在此方法中执行必要的清理操作（例如：清除 timer，取消网络请求或清除在 componentDidMount() 中创建的订阅等）</p></li></ul> <h3 id="不常用生命周期"><a href="#不常用生命周期" class="header-anchor">#</a> 不常用生命周期</h3> <ul><li>getDerivedStateFromProps：state 的值在任何时候都依赖于 props 时使用；该方法返回一个对象来更新 state</li> <li>getSnapshotBeforeUpdate：在 React 更新 DOM 之前回调的一个函数，可以获取 DOM 更新前的一些信息（比如说滚动位置）</li> <li>shouldComponentUpdate：该生命周期函数很常用，但是我们等待讲性能优化时再来详细讲解</li></ul> <h2 id="setstate"><a href="#setstate" class="header-anchor">#</a> setState</h2> <h3 id="为什么使用-setstate"><a href="#为什么使用-setstate" class="header-anchor">#</a> 为什么使用 setState</h3> <p>开发中我们并不能直接通过修改 state 的值来让界面发生更新，因为我们修改了 state 之后，希望 React 根据最新的 State 来重新渲染界面，但是这种方式的修改 React 并不知道数据发生了变化。<br>
React 并没有实现类似于 Vue2 中的 0bject.defineProperty 或者 Vue3 中的 Proxy 的方式来监听数据的变化。我们必须通过 setState 来告知 React 数据已经发生了变化</p> <h3 id="为什么设计成异步更新"><a href="#为什么设计成异步更新" class="header-anchor">#</a> 为什么设计成异步更新</h3> <p>setState 是异步更新，并不能在执行完 setState 后立马拿到最新的 state 结果。</p> <p>setState 设计为异步，可以显著的提升性能</p> <ul><li>如果每次调用 setState 都进行一次更新，那么意味着 render 函数会被频繁调用，界面重新渲染，这样效率是很低的
<ul><li>最好的办法应该是获取到多个更新，之后进行批量更新</li></ul></li> <li>如果同步更新了 state，但是还没有执行 render 函数，那么 state 和 props 不能保持同步。
<ul><li>state 和 props 不能保持一致性，会在开发中产生很多的问题</li></ul></li></ul> <h3 id="setstate-是不可变的数据"><a href="#setstate-是不可变的数据" class="header-anchor">#</a> setState 是不可变的数据</h3> <p>setState 使用时，需要保证赋的值是一个新的值</p> <h3 id="基本使用"><a href="#基本使用" class="header-anchor">#</a> 基本使用</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 字符串</span>
  变量<span class="token punctuation">:</span> <span class="token string">&quot;值&quot;</span>
  <span class="token comment">// 数值</span>
  变量<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>变量 <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token comment">// 数组</span>
  变量<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>this<span class="token punctuation">.</span>state<span class="token punctuation">.</span>变量<span class="token punctuation">,</span>值<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 改变数组内Object的值</span>
<span class="token keyword">const</span> Object <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>this<span class="token punctuation">.</span>state<span class="token punctuation">.</span>变量<span class="token punctuation">]</span><span class="token punctuation">;</span>
Object<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>键 <span class="token operator">=</span> 值<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  friends<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="获取异步更新后的数据"><a href="#获取异步更新后的数据" class="header-anchor">#</a> 获取异步更新后的数据</h3> <ul><li>通过回调函数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    变量<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>变量<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>通过生命周期函数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>变量<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="setstate-变为同步更新"><a href="#setstate-变为同步更新" class="header-anchor">#</a> setState 变为同步更新</h3> <ul><li>放入定时器</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  变量<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>变量<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>通过原生 JavaScript</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;button1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      变量<span class="token punctuation">:</span> 值<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>变量<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="setstate-的数据合并"><a href="#setstate-的数据合并" class="header-anchor">#</a> setState 的数据合并</h3> <p>setState 方法会通过 assign 进行数据合并，所以不会出现“丟数据”的情况，也不需要手动编写 assign 方法防止数据丢失</p> <h3 id="多个-setstate-合并"><a href="#多个-setstate-合并" class="header-anchor">#</a> 多个 setState 合并</h3> <p>当执行多个同一 setState 时，React 会将多个 state 进行合并</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  count<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  count<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  count<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// count默认值为0，当执行以上代码后，count值为1</span>
</code></pre></div><p>解决方案：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    变量<span class="token punctuation">:</span> prevState<span class="token punctuation">.</span>变量 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h2> <h3 id="react-更新机制"><a href="#react-更新机制" class="header-anchor">#</a> React 更新机制</h3> <p>React 在 props 或 state 发生改变时，会调用 React 的 render 方法，会创建一颗不同的树。</p> <p>React 需要基于这两颗不同的树之间的差别来判断如何有效的更新 UI：</p> <ul><li>如果一棵树参考另外一棵树进行完全比较更新，那么即使是最先进的算法，该算法的复杂程度为 O(n 3)，其中 n 是树中元素的数量；</li> <li><a href="https://grfia.dlsi.ua.es/ml/algorithms/references/editsurvey_bille.pdf" target="_blank" rel="noopener noreferrer">diff tree 算法文献<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>如果在 React 中使用了该算法，那么展示 1000 个元素所需要执行的计算量将在十亿的量级范围；</li> <li>这个开销太过昂贵了，React 的更新性能会变得非常低效；</li></ul> <p>于是，React 对这个算法进行了优化，将其优化成了 O(n)，如何优化的呢？</p> <ul><li>同层节点之间相互比较，不会垮节点比较；</li> <li>不同类型的节点，产生不同的树结构；</li> <li>开发中，可以通过 key 来指定哪些节点在不同的渲染下保持稳定；</li></ul> <h3 id="keys-的优化"><a href="#keys-的优化" class="header-anchor">#</a> Keys 的优化</h3> <p>遍历列表时，会提示一个警告，让我们加入一个 key 属性</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>变量<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>key 的注意事项：</p> <ul><li>key 应该是唯一的；</li> <li>key 不要使用随机数（随机数在下一次 render 时，会重新生成一个数字）；</li> <li>使用 index 作为 key，对性能是没有优化的；</li></ul> <h3 id="scu-的优化"><a href="#scu-的优化" class="header-anchor">#</a> SCU 的优化</h3> <p><code>PureComponent</code> 和 <code>memo</code> 会对 props 和 state 进行浅层比较，然后进行差异更新</p> <ul><li>PureComponent （适用于类组件）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>memo （适用于函数组件）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> PureComponent<span class="token punctuation">,</span> memo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> 组件名 <span class="token operator">=</span> <span class="token function">memo</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">组件名</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>组件名<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>组件名<span class="token operator">&gt;</span>
</code></pre></div><h2 id="ref"><a href="#ref" class="header-anchor">#</a> ref</h2> <h3 id="获取-ref"><a href="#获取-ref" class="header-anchor">#</a> 获取 ref</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>当获取组件的 ref 时，可以通过 <code>this.Ref名.current.方法名()</code>调用它内部的方法</p></div> <ul><li>对象方式（推荐）</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>需要导入<code>createRef</code></p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> PureComponent<span class="token punctuation">,</span> createRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>Ref名 <span class="token operator">=</span> <span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>titleRef<span class="token punctuation">}</span><span class="token operator">&gt;</span>Hello World<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">changeText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Ref名<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>函数方式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>Ref名 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Ref名 <span class="token operator">=</span> arg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Hello World<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">changeText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Ref名<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>字符串方式（不推荐 ，后期可能会删除）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 ref<span class="token operator">=</span><span class="token string">&quot;Ref名&quot;</span><span class="token operator">&gt;</span>Hello World<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">changeText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>Ref名<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ref-的类型"><a href="#ref-的类型" class="header-anchor">#</a> ref 的类型</h3> <ul><li>当 ref 属性用于 HTML 元素时,构造函数中使用 React.createRef() 创建的 ref 接收底层 DOM 元素作为其 current 属性</li> <li>当 ref 属性用于自定义 class 组件时，ref 对象接收组件的挂载实例作为其 current 属性</li> <li><strong>不能在函数组件上使用 ref 属性</strong>，因为他们没有实例</li></ul> <h3 id="ref-的转发"><a href="#ref-的转发" class="header-anchor">#</a> ref 的转发</h3> <p>父组件向子组件传递 Ref</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> PureComponent<span class="token punctuation">,</span> createRef<span class="token punctuation">,</span> forwardRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 高阶组件</span>
<span class="token keyword">const</span> Profile <span class="token operator">=</span> <span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h2 ref<span class="token operator">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span><span class="token operator">&gt;</span>Profile<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>profileRef <span class="token operator">=</span> <span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Profile ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>profileRef<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Profile<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>打印ref<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">printRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>profileRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="受控组件和非受控组件"><a href="#受控组件和非受控组件" class="header-anchor">#</a> 受控组件和非受控组件</h2> <h3 id="受控组件"><a href="#受控组件" class="header-anchor">#</a> 受控组件</h3> <p>在 HTML 中，表单元素（如<code>&lt;input&gt;</code>、<code>&lt;textarea&gt;</code> 和 <code>&lt;select&gt;</code> ）之类的表单元素通常自己维护 state，并根据用户输入进行更新</p> <p>而在 React 中，可变状态(mutable state) 通常保存在组件的 state 属性中，并且只能通过使用 setState() 来更新</p> <pre><code>* 我们将两者结合起来，使React的state成为 &quot;唯一数据源”
* 渲染表单的React组件还控制着用户输入过程中表单发生的操作
* 被React以这种方式控制取值的表单输入元素就叫做“受控组件”
</code></pre> <ul><li>基本格式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> 组件名 <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      变量名<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
          name<span class="token operator">=</span><span class="token string">&quot;变量名&quot;</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleChange</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span>
          value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>变量名<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;提交&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// ES6语法：计算属性名</span>
      <span class="token punctuation">[</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 阻止默认事件</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>input 的使用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      username<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleSubmit</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
            用户：
            <span class="token operator">&lt;</span>input
              id<span class="token operator">=</span><span class="token string">&quot;username&quot;</span>
              type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
              onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleChange</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span>
              value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>username<span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;提交&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// ES6语法：计算属性名</span>
      <span class="token punctuation">[</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>select 的使用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      username<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      fruits<span class="token punctuation">:</span> <span class="token string">&quot;orange&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleSubmit</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>select name<span class="token operator">=</span><span class="token string">&quot;fruits&quot;</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleChange</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>fruits<span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;apple&quot;</span><span class="token operator">&gt;</span>苹果<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;banana&quot;</span><span class="token operator">&gt;</span>香蕉<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;orange&quot;</span><span class="token operator">&gt;</span>橘子<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;提交&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>fruits<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// ES6语法：计算属性名</span>
      <span class="token punctuation">[</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="非受控组件"><a href="#非受控组件" class="header-anchor">#</a> 非受控组件</h3> <p>React 推荐大多数情况下使用受控组件来处理表单数据：</p> <ul><li>一个受控组件中,表单数据是由 React 组件来管理的;</li> <li>另一种替代方案是使用非受控组件，这时表单数据将交由 DOM 节点来处理</li></ul> <details class="custom-block details"><summary>点击查看代码</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> PureComponent<span class="token punctuation">,</span> createRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>usernameRef <span class="token operator">=</span> <span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      username<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleSubmit</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
            用户： <span class="token operator">&lt;</span>input id<span class="token operator">=</span><span class="token string">&quot;username&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>usernameRef<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;提交&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>usernameRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></details></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">2020/9/23 下午5:27:27</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/technicalnotes/front-end/React/ImmutableJS.html" class="prev">
        ImmutableJS
      </a></span> <span class="next"><a href="/technicalnotes/front-end/React/React-Transition-Group.html">
        React-Transition-Group
      </a>
      →
    </span></p></div> </main></div> <div class="footer" data-v-c54358c4><div id="footer-info" data-v-c54358c4><div class="footer-left" data-v-c54358c4>
      © 2020
      <!----></div> <div class="footer-right" data-v-c54358c4>Theme:<a href="https://github.com/JoeyBling/vuepress-theme-yilia-plus" target="_blank">vuepress-theme-yilia-plus</a> by Litten</div></div> <div class="busuanzi" data-v-c54358c4><span id="busuanzi_container_site_pv" style="display:none">
    本站总访问量
    <span id="busuanzi_value_site_pv"></span>次
    <span class="post-meta-divider">|</span></span> <span id="busuanzi_container_site_uv" style="display:none">
    本站访客数
    <span id="busuanzi_value_site_uv"></span>人
  </span></div></div></main><div class="global-ui"><!----></div></div>
    <script src="/technicalnotes/assets/js/app.66ddaadd.js" defer></script><script src="/technicalnotes/assets/js/2.d8b28be4.js" defer></script><script src="/technicalnotes/assets/js/8.7a7d242a.js" defer></script>
  </body>
</html>
